{"version":3,"sources":["webpack://fido_timeline/./src/Ease.ts","webpack://fido_timeline/./src/Marker.ts","webpack://fido_timeline/./src/PlayMode.ts","webpack://fido_timeline/./src/Keyframe.ts","webpack://fido_timeline/./src/math.ts","webpack://fido_timeline/./src/utils.ts","webpack://fido_timeline/./src/Timeline.ts","webpack://fido_timeline/./src/layers/Layer.ts","webpack://fido_timeline/./src/layers/LayerAudio.ts","webpack://fido_timeline/./src/layers/LayerImage.ts","webpack://fido_timeline/./src/layers/LayerShape.ts","webpack://fido_timeline/./src/layers/LayerText.ts","webpack://fido_timeline/./src/layers/LayerVideo.ts","webpack://fido_timeline/./src/layers/Composition.ts","webpack://fido_timeline/webpack/bootstrap","webpack://fido_timeline/webpack/runtime/define property getters","webpack://fido_timeline/webpack/runtime/hasOwnProperty shorthand","webpack://fido_timeline/webpack/runtime/make namespace object","webpack://fido_timeline/webpack/startup"],"names":["LINEAR","BEZIER","HOLD","none","inQuad","inCubic","inQuart","inQuint","inSine","inExpo","inCirc","inBack","outQuad","outCubic","outQuart","outQuint","outSine","outExpo","outCirc","outBack","inOutQuad","inOutCubic","inOutQuart","inOutQuint","inOutSine","inOutExpo","inOutCirc","inOutBack","Marker","name","time","this","PlayMode","Keyframe","obj","opts","guid","duration","ease","easeType","props","startValues","endValues","onUpdate","undefined","object","originalEaseType","Object","keys","forEach","key","value","start","push","linearEase","sameEaseType","startTime","endTime","percent","normalize","clamp","progress","getCurve","prop","index","target","Array","isArray","total","length","values","i","mix","cubicBezier","between","TWO_PI","Math","PI","HALF_PI","min","max","map","min1","max1","min2","max2","roundTo","digits","Number","toFixed","distance","x","y","d","sqrt","distance2","x1","y1","x2","y2","d1","d2","distance3","z1","z2","d3","random","slopeFromT","t","A","B","C","xFromT","D","x0","y0","isLinear","E","F","G","current","currentx","currentslope","Infinity","H","tt","yFromT","tween","keyframes","totalKeys","delim","startKey","floor","endKey","adjusted","mixArrays","end","result","fileName","path","slash","lastIndexOf","period","substring","Date","now","round","toString","Timeline","markers","mode","playing","speed","seconds","prevSeconds","lastUpdate","keyframe","marker","getMarker","callback","resetTime","updateKeyframes","updateTime","updateMarkers","isActive","update","search","pause","delta","nextTime","abs","performance","Layer","json","assets","showing","item","fileID","file","draw","width","height","resize","timeline","animate","transform","LayerAudio","super","content","source","audio","active","paused","play","LayerImage","images","LayerShape","LayerText","LayerVideo","videos","audioEnabled","setAttribute","muted","volume","Composition","layers","camera","dispose","layer","updateLayers","l","visible","showable","playLayers","pauseLayers","parentComp","m","buildLayer","type","buildPost","buildLayerAudio","buildCamera","buildLayerComposition","buildLayerImage","buildLayerShape","buildLayerText","buildLayerVideo","build","__webpack_module_cache__","__webpack_require__","moduleId","exports","module","__webpack_modules__","definition","o","defineProperty","enumerable","get","prototype","hasOwnProperty","call","r","Symbol","toStringTag"],"mappings":"kEAIA,SACEA,OAAQ,SACRC,OAAQ,SACRC,KAAM,OAENC,KAAM,CAAC,IAAO,IAAO,IAAO,KAG5BC,OAAQ,CAAC,IAAO,KAAO,IAAO,KAC9BC,QAAS,CAAC,IAAO,KAAO,KAAO,KAC/BC,QAAS,CAAC,KAAO,IAAO,KAAO,KAC/BC,QAAS,CAAC,KAAO,IAAO,KAAO,KAC/BC,OAAQ,CAAC,IAAO,EAAO,KAAO,MAC9BC,OAAQ,CAAC,IAAO,IAAO,KAAO,MAC9BC,OAAQ,CAAC,GAAO,IAAO,IAAO,MAC9BC,OAAQ,CAAC,GAAO,EAAO,KAAO,MAG9BC,QAAS,CAAC,IAAO,IAAO,IAAO,KAC/BC,SAAU,CAAC,KAAO,IAAO,KAAO,GAChCC,SAAU,CAAC,KAAO,IAAO,IAAO,GAChCC,SAAU,CAAC,IAAO,EAAO,IAAO,GAChCC,QAAS,CAAC,IAAO,KAAO,KAAO,GAC/BC,QAAS,CAAC,IAAO,EAAO,IAAO,GAC/BC,QAAS,CAAC,KAAO,IAAO,KAAO,GAC/BC,QAAS,CAAC,KAAO,KAAO,IAAO,GAG/BC,UAAW,CAAC,KAAO,IAAO,KAAO,MACjCC,WAAY,CAAC,KAAO,KAAO,KAAO,GAClCC,WAAY,CAAC,IAAO,EAAO,KAAO,GAClCC,WAAY,CAAC,IAAO,EAAO,IAAO,GAClCC,UAAW,CAAC,KAAO,IAAO,IAAO,KACjCC,UAAW,CAAC,EAAO,EAAO,EAAO,GACjCC,UAAW,CAAC,KAAO,KAAO,IAAO,KACjCC,UAAW,CAAC,IAAO,EAAO,KAAO,K,wCClCpB,MAAMC,EAOnB,YAAYC,EAAe,GAAIC,EAAe,GAN9C,KAAAD,KAAe,GAEf,KAAAC,KAAe,EAKbC,KAAKF,KAAOA,EACZE,KAAKD,KAAOA,K,UCXhB,IAAKE,E,8BAAL,SAAKA,GACH,cACA,cACA,sBAHF,CAAKA,MAAQ,KAMb,W,iECIe,MAAMC,EA4DnB,YAAYC,EAAUC,GA3DtB,KAAAN,MAAe,IAAAO,QAKf,KAAAN,KAAe,EAKf,KAAAO,SAAmB,EAKnB,KAAAC,KAAsB,eAUtB,KAAAC,SAAmB,iBAYnB,KAAAC,MAAuB,GAKvB,KAAAC,YAA0B,GAK1B,KAAAC,UAAwB,GAKxB,KAAAC,cAAwCC,EAQtCb,KAAKc,OAASX,EAEd,MAAMY,EAAmBf,KAAKQ,SAC9BQ,OAAOC,KAAKb,GAAMc,SAASC,IACzB,MAAMC,EAAQhB,EAAKe,GACnB,GAAY,SAARA,EACFnB,KAAKF,KAAOsB,OACP,GAAY,UAARD,EACTnB,KAAKD,KAAOqB,OACP,GAAY,aAARD,EACTnB,KAAKM,SAAWc,OACX,GAAY,SAARD,EACTnB,KAAKO,KAAOa,OACP,GAAY,SAARD,EACTnB,KAAKQ,SAAWY,OACX,GAAY,aAARD,EACTnB,KAAKY,SAAWQ,OACX,GAAY,UAARD,EAAiB,CAC1B,IAAIE,EAAQrB,KAAKc,OAAOK,QACLN,IAAfT,EAAKiB,QACPA,EAAQjB,EAAKiB,MAAMF,IAErBnB,KAAKS,MAAMa,KAAKH,GAChBnB,KAAKU,YAAYY,KAAKD,GACtBrB,KAAKW,UAAUW,KAAKF,OAIxB,MAAMG,EAAavB,KAAKO,KAAK,KAAOP,KAAKO,KAAK,IAAMP,KAAKO,KAAK,KAAOP,KAAKO,KAAK,GACzEiB,EAAeT,IAAqBf,KAAKQ,SAC3Ce,GAAcC,IAChBxB,KAAKQ,SAAW,kBAQpB,OAAOT,GACL,MAAM0B,EAAYzB,KAAKD,MACjB,QAAE2B,GAAY1B,KACd2B,GAAU,IAAAC,WAAUH,EAAWC,GAAS,IAAAG,OAAMJ,EAAWC,EAAS3B,IAClE+B,GAAW,IAAAD,OAAM,EAAG,EAAG7B,KAAK+B,SAASJ,IAE3C3B,KAAKS,MAAMS,SAAQ,CAACc,EAAcC,KAChC,MAAMZ,EAAQrB,KAAKU,YAAYuB,GACzBC,EAASlC,KAAKW,UAAUsB,GAC9B,GAAIE,MAAMC,QAAQf,GAAQ,CACxB,MAAMgB,EAAQhB,EAAMiB,OACdC,EAAwB,GAC9B,IAAK,IAAIC,EAAI,EAAGA,EAAIH,IAASG,EAC3BD,EAAOjB,MAAK,IAAAmB,KAAIpB,EAAMmB,GAAIN,EAAOM,GAAIV,IAEvC9B,KAAKc,OAAOkB,GAAQO,OAEpBvC,KAAKc,OAAOkB,GADc,iBAAVX,GAAuC,kBAAVA,EACzBS,EAAW,EAAIT,EAAQa,GAEvB,IAAAO,KAAIpB,EAAOa,EAAQJ,WAIrBjB,IAAlBb,KAAKY,UAAwBZ,KAAKY,SAASkB,GAOjD,SAASH,GACP,OAAI3B,KAAKQ,WAAa,kBACb,IAAAkC,aAAYf,EAAS3B,KAAKO,KAAK,GAAIP,KAAKO,KAAK,GAAIP,KAAKO,KAAK,GAAIP,KAAKO,KAAK,IAEvEP,KAAKQ,WAAa,eACpBmB,EAAU,EAAI,EAAI,EAEpBA,EAOT,SAAS5B,GACP,OAAO,IAAA4C,SAAQ3C,KAAKD,KAAMC,KAAKD,KAAOC,KAAKM,SAAUP,GAGvD,gBACE,OAAOC,KAAKD,KAGd,cACE,OAAOC,KAAKD,KAAOC,KAAKM,Y,2OCtKrB,MAAMsC,EAA2B,EAAVC,KAAKC,GACtBC,EAAkBF,KAAKC,GAAK,EAElC,SAASH,EAAQK,EAAaC,EAAa7B,GAChD,OAAOA,GAAS4B,GAAO5B,GAAS6B,EAG3B,SAASrB,EAAUoB,EAAaC,EAAa7B,GAClD,OAAQA,EAAQ4B,IAAQC,EAAMD,GAGzB,SAASP,EAAIO,EAAaC,EAAa7B,GAC5C,OAAO4B,GAAO,EAAI5B,GAAS6B,EAAM7B,EAG5B,SAAS8B,EAAIC,EAAcC,EAAcC,EAAcC,EAAclC,GAC1E,OAAOqB,EAAIY,EAAMC,EAAM1B,EAAUuB,EAAMC,EAAMhC,IAGxC,SAASS,EAAMmB,EAAaC,EAAa7B,GAC9C,OAAOyB,KAAKG,IAAIC,EAAKJ,KAAKI,IAAID,EAAK5B,IAG9B,SAASmC,EAAQnC,EAAeoC,EAAiB,GACtD,OAAOC,OAAOrC,EAAMsC,QAAQF,IAGvB,SAASG,EAASC,EAAWC,GAClC,MAAMC,EAAIF,EAAIC,EACd,OAAOhB,KAAKkB,KAAKD,EAAIA,GAGhB,SAASE,EAAUC,EAAYC,EAAYC,EAAYC,GAC5D,MAAMC,EAAKJ,EAAKE,EACVG,EAAKJ,EAAKE,EAChB,OAAOvB,KAAKkB,KAAKM,EAAKA,EAAKC,EAAKA,GAG3B,SAASC,EACdN,EAAYC,EAAYM,EACxBL,EAAYC,EAAYK,GAExB,MAAMJ,EAAKJ,EAAKE,EACVG,EAAKJ,EAAKE,EACVM,EAAKF,EAAKC,EAChB,OAAO5B,KAAKkB,KAAKM,EAAKA,EAAKC,EAAKA,EAAKI,EAAKA,GAGrC,SAASC,EAAO3B,EAAaC,GAClC,OAAOR,EAAIO,EAAKC,EAAKJ,KAAK8B,UAS5B,SAASC,EAAWC,EAAWC,EAAWC,EAAWC,GACnD,OAAO,GAAO,EAAMF,EAAID,EAAIA,EAAI,EAAME,EAAIF,EAAIG,GAGhD,SAASC,EAAOJ,EAAWC,EAAWC,EAAWC,EAAWE,GAC1D,OAAOJ,GAAKD,EAAIA,EAAIA,GAAKE,GAAKF,EAAIA,GAAKG,EAAIH,EAAIK,EAQ1C,SAASxC,EAAYf,EAAiBwD,EAAYC,EAAYnB,EAAYC,GAC/E,GAAIvC,GAAW,EAAG,OAAO,EACzB,GAAIA,GAAW,EAAG,OAAO,EACzB,GApBF,SAAkBwD,EAAYC,EAAYnB,EAAYC,GACpD,OAAOiB,IAAOC,GAAMnB,IAAOC,EAmBvBmB,CAASF,EAAIC,EAAInB,EAAIC,GAAK,OAAOvC,EAErC,MASMmD,EAHM,EAGI,EALJb,EAKgB,EAPhBkB,EAFA,EAUNJ,EAAI,EANEd,EAMU,EARVkB,EAQsB,EAC5BH,EAAI,EATEG,EASU,EAGhBG,EAPM,EAOI,EATJpB,EASgB,EAXhBkB,EAFA,EAcNG,EAAI,EAVErB,EAUU,EAZVkB,EAYsB,EAC5BI,EAAI,EAbEJ,EAaU,EAGtB,IAAIK,EAAU9D,EACd,IAAK,IAAIa,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAC1B,MAAMkD,EAAWT,EAAOQ,EAASX,EAAGC,EAAGC,EArB7B,GAsBV,IAAIW,EAAef,EAAWa,EAASX,EAAGC,EAAGC,GACzCW,IAAiBC,MAAUD,EAAehE,GAC9C8D,IAAYC,EAAW/D,GAAW,EAClC8D,EAAU5C,KAAKG,IAAIH,KAAKI,IAAIwC,EAAS,GAAM,GAG7C,OAtCF,SAAgBZ,EAAWS,EAAWC,EAAWC,EAAWK,GAC1D,MAAMC,EAAKjB,EAAIA,EACf,OAAOS,GAAKQ,EAAKjB,GAAKU,EAAIO,EAAKN,EAAIX,EAAIgB,EAoChCE,CAAON,EAASH,EAAGC,EAAGC,EA3BjB,GAqCP,SAASQ,EAAM5E,EAAe6E,GACnC,MAAMC,EAAYD,EAAU3D,OAAS,EACrC,GAAkB,IAAd4D,EAAiB,OAAOD,EAAU,GACtC,MAAME,EAAQ,EAAID,EACZE,EAAWvD,KAAKG,IAAIH,KAAKwD,MAAMjF,EAAQ8E,GAAYA,EAAY,GAC/DI,EAASF,EAAW,EAGpBG,EAAW3E,EAFCwE,EAAWD,EACbG,EAASH,EACsB/E,GAC/C,OAAOqB,EAAIwD,EAAUG,GAAWH,EAAUK,GAASC,GAM9C,SAASC,EAAUnF,EAAsBoF,EAAoBrF,GAClE,MAAMsF,EAAwB,GACxBrE,EAAQhB,EAAMiB,OACpB,IAAK,IAAIE,EAAI,EAAGA,EAAIH,IAASG,EAC3BkE,EAAOpF,KAAKmB,EAAIpB,EAAMmB,GAAIiE,EAAIjE,GAAIpB,IAEpC,OAAOsF,I,UCvIF,SAASC,EAASC,GACvB,MAAMC,EAAQD,EAAKE,YAAY,KAAO,EAChCC,EAASH,EAAKE,YAAY,KAChC,OAAOF,EAAKI,UAAUH,EAAOE,GAGxB,SAAS1G,IACd,OAAQ4G,KAAKC,MAAQrE,KAAKsE,MAAsB,MAAhBtE,KAAK8B,WAAmByC,W,mHCE3C,MAAMC,EA4CnB,YAAYjH,GAxCZ,KAAAE,SAAmB,EAKnB,KAAA2F,UAA6B,GAK7B,KAAAqB,QAAyB,GAKzB,KAAAC,KAAiB,eAKjB,KAAAC,SAAmB,EAKnB,KAAAC,MAAgB,EAKhB,KAAA1H,KAAO,CACL2H,QAAS,EACTC,YAAa,EACbC,WAAY,QAQC/G,IAATT,SACgBS,IAAdT,EAAKmH,OAAoBvH,KAAKuH,KAAOnH,EAAKmH,WACxB1G,IAAlBT,EAAKE,WAAwBN,KAAKM,SAAWF,EAAKE,eACjCO,IAAjBT,EAAKoH,UAAuBxH,KAAKwH,QAAUpH,EAAKoH,cACjC3G,IAAfT,EAAKqH,QAAqBzH,KAAKyH,MAAQrH,EAAKqH,QAOpD,UACEzH,KAAKiG,UAAY,GACjBjG,KAAKsH,QAAU,GAQjB,YAAYnH,EAAUC,GACpBJ,KAAKiG,UAAU3E,KAAK,IAAI,UAASnB,EAAKC,IAQxC,UAAUN,EAAe,GAAIC,EAAe,GAC1CC,KAAKsH,QAAQhG,KAAK,IAAI,UAAOxB,EAAMC,IAOrC,aAAa8H,GACX7H,KAAKiG,UAAU3E,KAAKuG,GAOtB,UAAU/H,GACR,MAAMuC,EAAQrC,KAAKsH,QAAQhF,OAC3B,IAAK,IAAIE,EAAI,EAAGA,EAAIH,IAASG,EAAG,CAC9B,MAAMsF,EAAS9H,KAAKsH,QAAQ9E,GAC5B,GAAIsF,EAAOhI,OAASA,EAClB,OAAOgI,GAUb,WAAWhI,GACT,MAAMgI,EAAS9H,KAAK+H,UAAUjI,QACfe,IAAXiH,IACF9H,KAAK0H,QAAUI,EAAO/H,UACEc,IAApBiH,EAAOE,UACTF,EAAOE,YAQb,OACEhI,KAAKwH,SAAU,EACfxH,KAAKiI,YAMP,QACEjI,KAAKwH,SAAU,EAOjB,OAAOzH,GACAC,KAAKwH,eACG3G,IAATd,IAAoBC,KAAKD,KAAK2H,QAAU3H,GAC5CC,KAAKkI,kBACLlI,KAAKmI,aACLnI,KAAKoI,iBAMP,kBACEpI,KAAKiG,UAAU/E,SAAS2G,IAClBA,EAASQ,SAASrI,KAAK0H,UACzBG,EAASS,OAAOtI,KAAK0H,YAQ3B,gBACE,MAAMrF,EAAQrC,KAAKsH,QAAQhF,OAC3B,IAAK,IAAIE,EAAI,EAAGA,EAAIH,IAASG,EAAG,CAC9B,MAAMsF,EAAS9H,KAAKsH,QAAQ9E,GAE5B,IADiB,IAAAG,SAAQ3C,KAAKD,KAAK4H,YAAa3H,KAAKD,KAAK2H,QAASI,EAAO/H,MASxE,YAPwBc,IAApBiH,EAAOE,UACTF,EAAOE,gBAELF,EAAOhI,KAAKyI,OAAO,SAAW,IAChCvI,KAAKwI,QACLxI,KAAK0H,QAAUI,EAAO/H,QAU9B,aACE,MAAM,IAAEmH,GAAQlH,KACVyI,GAASvB,EAAMlH,KAAKD,KAAK6H,YAAc,IACvCc,EAAW1I,KAAKD,KAAK2H,QAAWe,EAAQzI,KAAKyH,MAKnD,GAJAzH,KAAKD,KAAK6H,WAAaV,EACvBlH,KAAKD,KAAK4H,YAAc3H,KAAKD,KAAK2H,QAClC1H,KAAKD,KAAK2H,QAAUgB,EAEhB1I,KAAKM,SAAW,GAAKN,KAAKD,KAAK2H,SAAW1H,KAAKM,SACjD,OAAQN,KAAKuH,MACX,QACA,KAAK,eACHvH,KAAKD,KAAK2H,QAAU,EACpB,MACF,KAAK,eACH1H,KAAKD,KAAK2H,QAAU1H,KAAKM,SACzBN,KAAKwH,SAAU,EACf,MACF,KAAK,mBACHxH,KAAKD,KAAK2H,QAAU1H,KAAKM,SAAWmI,EACpCzI,KAAKyH,OAAS5E,KAAK8F,IAAI3I,KAAKyH,OAM9BzH,KAAKD,KAAK2H,QAAU,GAAK1H,KAAKuH,OAAS,qBACzCvH,KAAKD,KAAK2H,QAAU,EACpB1H,KAAKyH,MAAQ5E,KAAK8F,IAAI3I,KAAKyH,QAO/B,YACEzH,KAAKD,KAAK6H,WAAa5H,KAAKkH,IAG9B,UACE,OAAQ0B,aAAe3B,MAAMC,MAG/B,cACE,OAAOlH,KAAKD,KAAK2H,QAGnB,YAAYtG,GACVpB,KAAKD,KAAK2H,QAAUtG,K,wCCtOT,MAAMyH,EA2CnB,YAAYC,EAAWC,GAvCvB,KAAAjJ,KAAe,GAKf,KAAAuB,MAAgB,EAKhB,KAAAf,SAAmB,EAKnB,KAAA0I,SAAmB,EAKnB,KAAAC,UAAYpI,EAMZ,KAAAqI,OAAiB,GAMjB,KAAAC,UAAYtI,EAQVb,KAAKF,UAAqBe,IAAdiI,EAAKhJ,KAAqBgJ,EAAKhJ,KAAO,GAClDE,KAAKqB,WAAuBR,IAAfiI,EAAKzH,MAAsByH,EAAKzH,MAAQ,EACrDrB,KAAKM,cAA6BO,IAAlBiI,EAAKxI,SAAyBwI,EAAKxI,SAAW,EAC9DN,KAAKgJ,aAA2BnI,IAAjBiI,EAAKE,SAAwBF,EAAKE,QAMnD,WASA,OAAOjJ,EAAeO,QACFO,IAAdb,KAAKiJ,WAA2CpI,IAArBb,KAAKiJ,KAAKX,QACvCtI,KAAKiJ,KAAKX,OAAOvI,OAAmBc,IAAbP,EAAyBA,EAAWN,KAAKM,UAOpE,YACoBO,IAAdb,KAAKiJ,WAAyCpI,IAAnBb,KAAKiJ,KAAKG,MACvCpJ,KAAKiJ,KAAKG,OASd,OAAOC,EAAeC,QACFzI,IAAdb,KAAKiJ,WAA2CpI,IAArBb,KAAKiJ,KAAKM,QACvCvJ,KAAKiJ,KAAKM,OAAOF,EAAOC,GAS5B,QAAQR,EAAWU,QACC3I,IAAdb,KAAKiJ,WAA4CpI,IAAtBb,KAAKiJ,KAAKQ,SACvCzJ,KAAKiJ,KAAKQ,QAAQX,EAAMU,GAS5B,UAAUV,EAAWU,QACD3I,IAAdb,KAAKiJ,WAA8CpI,IAAxBb,KAAKiJ,KAAKS,WACvC1J,KAAKiJ,KAAKS,UAAUZ,EAAMU,GAQ9B,SAASzJ,GACP,MAAM2B,EAAU1B,KAAKqB,MAAQrB,KAAKM,SAClC,QAAQN,KAAKM,SAAW,IAAMP,GAAQC,KAAKqB,OAAStB,GAAQ2B,K,iEClHjD,MAAMiI,UAAmB,UACtC,YAAYb,EAAWC,GACrBa,MAAMd,EAAMC,GAEZ/I,KAAKkJ,QAAS,IAAAvC,UAASmC,EAAKe,QAAQzI,MAAM0I,QAC1C9J,KAAKmJ,KAAOJ,EAAOgB,MAAM/J,KAAKkJ,QAGhC,UACElJ,KAAKmJ,KAAKX,QAGZ,OAAOzI,EAAcO,GACnB,MAAMmB,EAAYzB,KAAKqB,MACjBK,EAAU1B,KAAKqB,MAAQrB,KAAKmJ,KAAK7I,SACjC0J,GAAS,IAAArH,SAAQlB,EAAWC,EAAS3B,GACvCC,KAAKmJ,KAAKc,QAAUD,GACtBhK,KAAKmJ,KAAKe,U,0DClBD,MAAMC,UAAmB,UACtC,YAAYrB,EAAWC,GACrBa,MAAMd,EAAMC,GAEZ/I,KAAKkJ,QAAS,IAAAvC,UAASmC,EAAKe,QAAQC,QACpC9J,KAAKmJ,KAAOJ,EAAOqB,OAAOpK,KAAKkJ,W,mDCNpB,MAAMmB,UAAmB,a,mDCAzB,MAAMC,UAAkB,a,0DCCxB,MAAMC,UAAmB,UACtC,YAAYzB,EAAWC,GACrBa,MAAMd,EAAMC,GAEZ/I,KAAKkJ,QAAS,IAAAvC,UAASmC,EAAKe,QAAQC,QACpC9J,KAAKmJ,KAAOJ,EAAOyB,OAAOxK,KAAKkJ,QAC1BJ,EAAKe,QAAQY,eAChBzK,KAAKmJ,KAAKuB,aAAa,QAAS,QAChC1K,KAAKmJ,KAAKwB,OAAQ,EAClB3K,KAAKmJ,KAAKyB,OAAS,GAIvB,UACE5K,KAAKmJ,KAAKX,W,uGCPC,MAAMqC,UAAoB,UA+BvC,YAAY/B,EAAWC,GACrBa,MAAMd,EAAMC,GA5Bd,KAAAM,MAAgB,EAKhB,KAAAC,OAAiB,EAKjB,KAAAwB,OAAuB,GAKvB,KAAAtB,SAAqB,IAAI,UAAS,IAKlC,KAAAuB,YAAclK,EASZb,KAAKqJ,MAAQP,EAAKO,MAClBrJ,KAAKsJ,OAASR,EAAKQ,OACnBtJ,KAAKwJ,SAASlJ,SAAWwI,EAAKxI,SAC9BN,KAAKgJ,QAAyB,IAAfhJ,KAAKqB,MAMtB,UACErB,KAAKwJ,SAASwB,UACdhL,KAAK+K,YAASlK,EACdb,KAAK8K,OAAO5J,SAAS+J,IACnBA,EAAMD,aAERhL,KAAK8K,OAAS,GAOhB,SAASG,GACPA,EAAMjC,QAAyB,IAAfhJ,KAAKqB,OAA+B,IAAhB4J,EAAM5J,MAC1CrB,KAAK8K,OAAOxJ,KAAK2J,GAQnB,OAAOlL,EAAeO,GACpB,MAAMwD,OAAiBjD,IAAbP,EAAyBA,EAAWN,KAAKwJ,SAASlJ,SAC5DN,KAAKwJ,SAASlJ,SAAWwD,EACzB9D,KAAKwJ,SAASlB,OAAOvI,GACrBC,KAAKkL,aAAalL,KAAKwJ,SAAS9B,QAAS5D,GAQ3C,aAAa/D,EAAcO,GACzB,MAAM+B,EAAQrC,KAAK8K,OAAOxI,OAC1B,IAAK,IAAIE,EAAI,EAAGA,EAAIH,IAASG,EAAG,CAC9B,MAAM2I,EAAInL,KAAK8K,OAAOtI,GAChB4I,EAAUD,EAAEE,SAAStL,GACvBqL,EACED,aAAaN,GACVM,EAAEnC,SACLmC,EAAEjB,OAEJiB,EAAE7C,OAAOvI,EAAMO,IAEf6K,EAAE7C,OAAOvI,EAAMO,GAER6K,EAAEnC,SAAWmC,aAAaN,GAC/BM,EAAE3B,SAAShC,SAAW2D,EAAE3B,SAAS9B,QAAU,IAC7CyD,EAAE3B,SAAS9B,QAAUyD,EAAE3B,SAASlJ,SAE5B6K,EAAE3B,SAAS/B,MAAQ,IACrB0D,EAAE3B,SAAS9B,QAAU,IAI3ByD,EAAEnC,QAAUoC,GAOhB,OACE,MAAMrL,EAAOC,KAAK0H,QACZrF,EAAQrC,KAAK8K,OAAOxI,OAC1B,IAAK,IAAIE,EAAI,EAAGA,EAAIH,IAASG,EAAG,CAC9B,MAAM2I,EAAInL,KAAK8K,OAAOtI,GACN2I,EAAEE,SAAStL,IACdoL,EAAE/B,QAOnB,OACEpJ,KAAKwJ,SAASU,OACdlK,KAAKsL,aAMP,QACEtL,KAAKwJ,SAAShB,QACdxI,KAAKuL,cAMP,aACE,MAAMxL,EAAOC,KAAK0H,QACZrF,EAAQrC,KAAK8K,OAAOxI,OAC1B,IAAK,IAAIE,EAAI,EAAGA,EAAIH,IAASG,EAAG,CAC9B,MAAMyI,EAAQjL,KAAK8K,OAAOtI,GACtByI,aAAiBJ,GAAeI,EAAMI,SAAStL,IACjDkL,EAAMf,QAQZ,cACE,MAAM7H,EAAQrC,KAAK8K,OAAOxI,OAC1B,IAAK,IAAIE,EAAI,EAAGA,EAAIH,IAASG,EAAG,CAC9B,MAAMyI,EAAQjL,KAAK8K,OAAOtI,GACtByI,aAAiBJ,GAAeI,EAAMzD,SACxCyD,EAAMzC,SAUZ,OAAOa,EAAeC,GACpBtJ,KAAK8K,OAAO5J,SAAS+J,IACnBA,EAAM1B,OAAOF,EAAOC,MAYxB,MAAMR,EAAWC,EAAayC,GAC5BxL,KAAKF,KAAOgJ,EAAKhJ,KACjBE,KAAKqJ,MAAQP,EAAKO,MAClBrJ,KAAKsJ,OAASR,EAAKQ,YACAzI,IAAf2K,IACFxL,KAAKM,SAAWuC,KAAKG,IAAIhD,KAAKM,SAAUkL,EAAWlL,UACnDN,KAAKwJ,SAASlJ,SAAWN,KAAKM,UAIhC,IAAI+B,EAAQyG,EAAKxB,QAAQhF,OACzB,IAAK,IAAIE,EAAI,EAAGA,EAAIH,IAASG,EAAG,CAC9B,MAAMiJ,EAAI3C,EAAKxB,QAAQ9E,GACvBxC,KAAKwJ,SAASlC,QAAQhG,KAAK,IAAI,UAAOmK,EAAE3L,KAAM2L,EAAE1L,OAIlDsC,EAAQyG,EAAKgC,OAAOxI,OACpB,IAAK,IAAIE,EAAIH,EAAQ,EAAGG,GAAK,IAAKA,EAAG,CACnC,MAAMyI,EAAQjL,KAAK0L,WAAW5C,EAAMC,EAAQD,EAAKgC,OAAOtI,SAC1C3B,IAAVoK,GAAqBjL,KAAK8K,OAAOxJ,KAAK2J,IAU9C,WAAWnC,EAAWC,EAAaE,GACjC,IAAIgC,EAGJ,OAAQhC,EAAK0C,MACX,IAAK,aACe,SAAd1C,EAAKnJ,MACPE,KAAK4L,UAAU3C,GAEjB,MACF,IAAK,QACHgC,EAAQjL,KAAK6L,gBAAgB/C,EAAMG,EAAMF,GACzC,MACF,IAAK,SACH/I,KAAK8L,YAAY7C,GACjB,MACF,IAAK,cACHgC,EAAQjL,KAAK+L,sBAAsBjD,EAAMG,EAAMF,GAC/C,MACF,QACA,IAAK,QACHkC,EAAQjL,KAAKgM,gBAAgBlD,EAAMG,EAAMF,GACzC,MACF,IAAK,QACHkC,EAAQjL,KAAKiM,gBAAgBnD,EAAMG,EAAMF,GACzC,MACF,IAAK,OACHkC,EAAQjL,KAAKkM,eAAepD,EAAMG,EAAMF,GACxC,MACF,IAAK,QACHkC,EAAQjL,KAAKmM,gBAAgBrD,EAAMG,EAAMF,GAQ7C,YAJclI,IAAVoK,IACFA,EAAM3K,SAAWuC,KAAKG,IAAIhD,KAAKwJ,SAASlJ,SAAU2I,EAAK3I,WAGlD2K,EAST,gBAAgBnC,EAAWG,EAAWF,GAEpC,OADc,IAAI,UAAWE,EAAMF,GAQrC,YAAYE,IAUZ,sBAAsBH,EAAWG,EAAWF,GAC1C,MAAMkC,EAAQ,IAAIJ,EAAY5B,EAAMF,GAEpC,OADAkC,EAAMmB,MAAMtD,EAAMG,EAAMjJ,MACjBiL,EAST,gBAAgBnC,EAAWG,EAAWF,GAEpC,OADc,IAAI,UAAWE,EAAMF,GAUrC,gBAAgBD,EAAWG,EAAWF,GAEpC,OADc,IAAI,UAAWE,EAAMF,GAUrC,eAAeD,EAAWG,EAAWF,GAEnC,OADc,IAAI,UAAUE,EAAMF,GAUpC,gBAAgBD,EAAWG,EAAWF,GAEpC,OADc,IAAI,UAAWE,EAAMF,GAQrC,UAAUD,IAMV,cACE,OAAO9I,KAAKwJ,SAAShC,QAGvB,eACE,OAAOxH,KAAKwJ,SAASjC,KAGvB,cACE,OAAOvH,KAAKwJ,SAAS9B,QAGvB,aAAatG,GACXpB,KAAKwJ,SAASjC,KAAOnG,EAGvB,YAAYA,GACVpB,KAAKwJ,SAAS9B,QAAUtG,MC5WxBiL,EAA2B,GAG/B,SAASC,EAAoBC,GAE5B,GAAGF,EAAyBE,GAC3B,OAAOF,EAAyBE,GAAUC,QAG3C,IAAIC,EAASJ,EAAyBE,GAAY,CAGjDC,QAAS,IAOV,OAHAE,EAAoBH,GAAUE,EAAQA,EAAOD,QAASF,GAG/CG,EAAOD,QCnBfF,EAAoBxI,EAAI,CAAC0I,EAASG,KACjC,IAAI,IAAIxL,KAAOwL,EACXL,EAAoBM,EAAED,EAAYxL,KAASmL,EAAoBM,EAAEJ,EAASrL,IAC5EH,OAAO6L,eAAeL,EAASrL,EAAK,CAAE2L,YAAY,EAAMC,IAAKJ,EAAWxL,MCJ3EmL,EAAoBM,EAAI,CAACzM,EAAK6B,IAAUhB,OAAOgM,UAAUC,eAAeC,KAAK/M,EAAK6B,GCClFsK,EAAoBa,EAAKX,IACH,oBAAXY,QAA0BA,OAAOC,aAC1CrM,OAAO6L,eAAeL,EAASY,OAAOC,YAAa,CAAEjM,MAAO,WAE7DJ,OAAO6L,eAAeL,EAAS,aAAc,CAAEpL,OAAO,KCFvDkL,EAAoB,GACpBA,EAAoB,GACpBA,EAAoB,GACpBA,EAAoB,GACpBA,EAAoB,GACpBA,EAAoB,GACpBA,EAAoB,GACpBA,EAAoB,GACpBA,EAAoB,IACpBA,EAAoB,IACpBA,EAAoB,IACMA,EAAoB,K","file":"fido-composition.js","sourcesContent":["/**\n * An object containing constants of CSS3 eases & ease-types.\n * Reference [Ceaser](https://matthewlein.com/tools/ceaser) for CSS3 easing\n */\nexport default {\n  LINEAR: 'linear',\n  BEZIER: 'bezier',\n  HOLD: 'hold',\n\n  none: [0.250, 0.250, 0.750, 0.750],\n\n  /// In\n  inQuad: [0.550, 0.085, 0.680, 0.530],\n  inCubic: [0.550, 0.055, 0.675, 0.190],\n  inQuart: [0.895, 0.030, 0.685, 0.220],\n  inQuint: [0.755, 0.050, 0.855, 0.060],\n  inSine: [0.470, 0.000, 0.745, 0.715],\n  inExpo: [0.950, 0.050, 0.795, 0.035],\n  inCirc: [0.600, 0.040, 0.980, 0.335],\n  inBack: [0.600, 0.000, 0.735, 0.045],\n\n  /// Out\n  outQuad: [0.250, 0.460, 0.450, 0.940],\n  outCubic: [0.215, 0.610, 0.355, 1.000],\n  outQuart: [0.165, 0.840, 0.440, 1.000],\n  outQuint: [0.230, 1.000, 0.320, 1.000],\n  outSine: [0.390, 0.575, 0.565, 1.000],\n  outExpo: [0.190, 1.000, 0.220, 1.000],\n  outCirc: [0.075, 0.820, 0.165, 1.000],\n  outBack: [0.175, 0.885, 0.320, 1.000],\n\n  /// In Out\n  inOutQuad: [0.455, 0.030, 0.515, 0.955],\n  inOutCubic: [0.645, 0.045, 0.355, 1.000],\n  inOutQuart: [0.770, 0.000, 0.175, 1.000],\n  inOutQuint: [0.860, 0.000, 0.070, 1.000],\n  inOutSine: [0.445, 0.050, 0.550, 0.950],\n  inOutExpo: [1.000, 0.000, 0.000, 1.000],\n  inOutCirc: [0.785, 0.135, 0.150, 0.860],\n  inOutBack: [0.680, 0.000, 0.265, 1.000]\n};\n","/**\n * A Marker object.\n * If the `name` param has `-stop` added, it'll trigger the\n * Timeline to stop when the Marker is first activated.\n */\nexport default class Marker {\n  name: string = '';\n\n  time: number = 0;\n\n  callback?: () => void;\n\n  constructor(name: string = '', time: number = 0) {\n    this.name = name;\n    this.time = time;\n  }\n}\n","/**\n * How the Timeline should play.\n */\nenum PlayMode {\n  Loop = 'Loop',\n  Once = 'Once',\n  PingPong = 'PingPong'\n}\n\nexport default PlayMode;\n","import {\n  between,\n  clamp,\n  cubicBezier,\n  mix,\n  normalize\n} from './math';\nimport { guid } from './utils';\nimport Ease from './Ease';\n\n/**\n * An object that tweens from 1 value to another with Cubic-Bezier easing.\n */\nexport default class Keyframe {\n  name: string = guid();\n\n  /**\n   * The start time (in seconds).\n   */\n  time: number = 0;\n\n  /**\n   * The duration of the animation (in seconds).\n   */\n  duration: number = 0;\n\n  /**\n   * Based on Cubic-Bezier\n   */\n  ease: Array<number> = Ease.none;\n\n  /**\n   * One of these 3:\n   * ```typescript\n   * Ease.LINEAR\n   * Ease.BEZIER\n   * Ease.HOLD\n   * ```\n   */\n  easeType: string = Ease.BEZIER;\n\n  // Object\n\n  /**\n   * The object to animate.\n   */\n  object: any;\n\n  /**\n   * The name of the variables that are animating.\n   */\n  props: Array<string> = [];\n\n  /**\n   * Where things start.\n   */\n  startValues: Array<any> = [];\n\n  /**\n   * Where things end.\n   */\n  endValues: Array<any> = [];\n\n  /**\n   * An optional callback\n   */\n  onUpdate?: (progress: number) => void = undefined;\n\n  /**\n   * Creates a Keyframe\n   * @param obj The object to animate\n   * @param opts An object containing animation variables\n   */\n  constructor(obj: any, opts: any) {\n    this.object = obj;\n\n    const originalEaseType = this.easeType;\n    Object.keys(opts).forEach((key: string) => {\n      const value = opts[key];\n      if (key === 'name') {\n        this.name = value;\n      } else if (key === 'delay') {\n        this.time = value;\n      } else if (key === 'duration') {\n        this.duration = value;\n      } else if (key === 'ease') {\n        this.ease = value;\n      } else if (key === 'type') {\n        this.easeType = value;\n      } else if (key === 'onUpdate') {\n        this.onUpdate = value;\n      } else if (key !== 'start') {\n        let start = this.object[key];\n        if (opts.start !== undefined) {\n          start = opts.start[key];\n        }\n        this.props.push(key);\n        this.startValues.push(start);\n        this.endValues.push(value);\n      }\n    });\n\n    const linearEase = this.ease[0] === this.ease[1] && this.ease[2] === this.ease[3];\n    const sameEaseType = originalEaseType === this.easeType;\n    if (linearEase && sameEaseType) {\n      this.easeType = Ease.LINEAR;\n    }\n  }\n\n  /**\n   * Updates our object based on the time\n   * @param time Clamps the value between your start and end times.\n   */\n  update(time: number): void {\n    const startTime = this.time;\n    const { endTime } = this;\n    const percent = normalize(startTime, endTime, clamp(startTime, endTime, time));\n    const progress = clamp(0, 1, this.getCurve(percent));\n\n    this.props.forEach((prop: string, index: number) => {\n      const start = this.startValues[index];\n      const target = this.endValues[index];\n      if (Array.isArray(start)) {\n        const total = start.length;\n        const values: Array<number> = [];\n        for (let i = 0; i < total; ++i) {\n          values.push(mix(start[i], target[i], progress));\n        }\n        this.object[prop] = values;\n      } else if (typeof start === 'string' || typeof start === 'boolean') {\n        this.object[prop] = progress < 1 ? start : target;\n      } else {\n        this.object[prop] = mix(start, target, progress);\n      }\n    });\n\n    if (this.onUpdate !== undefined) this.onUpdate(progress);\n  }\n\n  /**\n   * Converts a linear percentage to your eased value.\n   * @param percent Ranging from 0 to 1.\n   */\n  getCurve(percent: number): number {\n    if (this.easeType === Ease.BEZIER) {\n      return cubicBezier(percent, this.ease[0], this.ease[1], this.ease[2], this.ease[3]);\n      // eslint-disable-next-line\n    } else if (this.easeType === Ease.HOLD) {\n      return percent < 1 ? 0 : 1;\n    }\n    return percent;\n  }\n\n  /**\n   * If the Keyframe is active during the given time\n   * @param time Usually the time given from the Timeline\n   */\n  isActive(time: number): boolean {\n    return between(this.time, this.time + this.duration, time);\n  }\n\n  get startTime() {\n    return this.time;\n  }\n\n  get endTime() {\n    return this.time + this.duration;\n  }\n}\n","export const TWO_PI: number = Math.PI * 2;\nexport const HALF_PI: number = Math.PI / 2;\n\nexport function between(min: number, max: number, value: number) {\n  return value >= min && value <= max;\n}\n\nexport function normalize(min: number, max: number, value: number) {\n  return (value - min) / (max - min);\n}\n\nexport function mix(min: number, max: number, value: number) {\n  return min * (1 - value) + max * value;\n}\n\nexport function map(min1: number, max1: number, min2: number, max2: number, value: number) {\n  return mix(min2, max2, normalize(min1, max1, value));\n}\n\nexport function clamp(min: number, max: number, value: number) {\n  return Math.min(max, Math.max(min, value));\n}\n\nexport function roundTo(value: number, digits: number = 1): number {\n  return Number(value.toFixed(digits));\n}\n\nexport function distance(x: number, y: number): number {\n  const d = x - y;\n  return Math.sqrt(d * d);\n}\n\nexport function distance2(x1: number, y1: number, x2: number, y2: number): number {\n  const d1 = x1 - x2;\n  const d2 = y1 - y2;\n  return Math.sqrt(d1 * d1 + d2 * d2);\n}\n\nexport function distance3(\n  x1: number, y1: number, z1: number,\n  x2: number, y2: number, z2: number\n): number {\n  const d1 = x1 - x2;\n  const d2 = y1 - y2;\n  const d3 = z1 - z2;\n  return Math.sqrt(d1 * d1 + d2 * d2 + d3 * d3);\n}\n\nexport function random(min: number, max: number) {\n  return mix(min, max, Math.random());\n}\n\n// Bezier\n\nfunction isLinear(x0: number, y0: number, x1: number, y1: number): boolean {\n  return x0 === y0 && x1 === y1;\n}\n\nfunction slopeFromT(t: number, A: number, B: number, C: number): number {\n  return 1.0 / (3.0 * A * t * t + 2.0 * B * t + C);\n}\n\nfunction xFromT(t: number, A: number, B: number, C: number, D: number): number {\n  return A * (t * t * t) + B * (t * t) + C * t + D;\n}\n\nfunction yFromT(t: number, E: number, F: number, G: number, H: number): number {\n  const tt = t * t;\n  return E * (tt * t) + F * tt + G * t + H;\n}\n\nexport function cubicBezier(percent: number, x0: number, y0: number, x1: number, y1: number): number {\n  if (percent <= 0) return 0;\n  if (percent >= 1) return 1;\n  if (isLinear(x0, y0, x1, y1)) return percent; // linear\n\n  const x0a = 0; // initial x\n  const y0a = 0; // initial y\n  const x1a = x0; // 1st influence x\n  const y1a = y0; // 1st influence y\n  const x2a = x1; // 2nd influence x\n  const y2a = y1; // 2nd influence y\n  const x3a = 1; // final x\n  const y3a = 1; // final y\n\n  const A = x3a - 3.0 * x2a + 3.0 * x1a - x0a;\n  const B = 3.0 * x2a - 6.0 * x1a + 3.0 * x0a;\n  const C = 3.0 * x1a - 3.0 * x0a;\n  const D = x0a;\n\n  const E = y3a - 3.0 * y2a + 3.0 * y1a - y0a;\n  const F = 3.0 * y2a - 6.0 * y1a + 3.0 * y0a;\n  const G = 3.0 * y1a - 3.0 * y0a;\n  const H = y0a;\n\n  let current = percent;\n  for (let i = 0; i < 5; i++) {\n    const currentx = xFromT(current, A, B, C, D);\n    let currentslope = slopeFromT(current, A, B, C);\n    if (currentslope === Infinity) currentslope = percent;\n    current -= (currentx - percent) * (currentslope);\n    current = Math.min(Math.max(current, 0.0), 1.0);\n  }\n\n  return yFromT(current, E, F, G, H);\n}\n\n/**\n * Animates a set of keyframe values\n * @param  {Number} time Ranging from 0 - 1\n * @param  {Array} keyframes Set of key values, ie: [ 0, 50, 25, 50, 100 ]\n * @return {Number} The linearly interpolated value between keyframes,\n * ie: tween(0.25, [ 0, 50, 25, 50, 100 ]) returns 50\n */\nexport function tween(value: number, keyframes: Array<number>) {\n  const totalKeys = keyframes.length - 1;\n  if (totalKeys === 0) return keyframes[0];\n  const delim = 1 / totalKeys;\n  const startKey = Math.min(Math.floor(value * totalKeys), totalKeys - 1);\n  const endKey = startKey + 1;\n  const startTime = startKey * delim;\n  const endTime = endKey * delim;\n  const adjusted = normalize(startTime, endTime, value);\n  return mix(keyframes[startKey], keyframes[endKey], adjusted);\n}\n\n/**\n * Tweens between 2 sets of arrays\n */\nexport function mixArrays(start: Array<number>, end: Array<number>, value: number): Array<number> {\n  const result: Array<number> = [];\n  const total = start.length;\n  for (let i = 0; i < total; ++i) {\n    result.push(mix(start[i], end[i], value));\n  }\n  return result;\n}\n","export function fileName(path: string): string {\n  const slash = path.lastIndexOf('/') + 1;\n  const period = path.lastIndexOf('.');\n  return path.substring(slash, period);\n}\n\nexport function guid() {\n  return (Date.now() + Math.round(Math.random() * 99999)).toString();\n}\n","import { between } from './math';\nimport Keyframe from './Keyframe';\nimport Marker from './Marker';\nimport PlayMode from './PlayMode';\n\n/**\n * Based on the After Effects Timeline and inspired by Flash's, the Timeline\n * can animate multiple objects with time-scaling.\n */\nexport default class Timeline {\n  /**\n   * The amount of time in seconds.\n   */\n  duration: number = 0;\n\n  /**\n   * A list of the Keyframes.\n   */\n  keyframes: Array<Keyframe> = [];\n\n  /**\n   * A list of the Markers.\n   */\n  markers: Array<Marker> = [];\n\n  /**\n   * How the Timeline should play.\n   */\n  mode: PlayMode = PlayMode.Loop;\n\n  /**\n   * If the Timeline is playing.\n   */\n  playing: boolean = true;\n\n  /**\n   * How quickly the time should be multiplied. Default = 1.\n   */\n  speed: number = 1;\n\n  /**\n   * An object to manage time.\n   */\n  time = {\n    seconds: 0,\n    prevSeconds: 0,\n    lastUpdate: 0\n  };\n\n  /**\n   * Creates a Timeline with optional paramaeters.\n   * @param opts Params include `duration`, `mode`, `playing`, `speed`.\n   */\n  constructor(opts?: any) {\n    if (opts !== undefined) {\n      if (opts.mode !== undefined) this.mode = opts.mode;\n      if (opts.duration !== undefined) this.duration = opts.duration;\n      if (opts.playing !== undefined) this.playing = opts.playing;\n      if (opts.speed !== undefined) this.speed = opts.speed;\n    }\n  }\n\n  /**\n   * Clears the Keyframes and Markers.\n   */\n  dispose() {\n    this.keyframes = [];\n    this.markers = [];\n  }\n\n  /**\n   * Creates a Keyframe.\n   * @param obj The object to reference.\n   * @param opts The Keyframe paramaeters.\n   */\n  addKeyframe(obj: any, opts: any) {\n    this.keyframes.push(new Keyframe(obj, opts));\n  }\n\n  /**\n   * Creates a Marker.\n   * @param name The Marker name.\n   * @param time The Marker time.\n   */\n  addMarker(name: string = '', time: number = 0) {\n    this.markers.push(new Marker(name, time));\n  }\n\n  /**\n   * Pushes a Keyframe to the array.\n   * @param keyframe A precreated Keyframe.\n   */\n  pushKeyframe(keyframe: Keyframe) {\n    this.keyframes.push(keyframe);\n  }\n\n  /**\n   * Retrieves the Marker by name.\n   * @param name The name of the Marker.\n   */\n  getMarker(name: string): Marker | undefined {\n    const total = this.markers.length;\n    for (let i = 0; i < total; ++i) {\n      const marker = this.markers[i];\n      if (marker.name === name) {\n        return marker;\n      }\n    }\n    return undefined;\n  }\n\n  /**\n   * Changes the Timeline to the Marker time.\n   * @param name The name of the Marker.\n   */\n  goToMarker(name: string) {\n    const marker = this.getMarker(name);\n    if (marker !== undefined) {\n      this.seconds = marker.time;\n      if (marker.callback !== undefined) {\n        marker.callback();\n      }\n    }\n  }\n\n  /**\n   * Plays the Timeline.\n   */\n  play() {\n    this.playing = true;\n    this.resetTime();\n  }\n\n  /**\n   * Pauses the Timeline.\n   */\n  pause() {\n    this.playing = false;\n  }\n\n  /**\n   * Updates the Timeline animation.\n   * @param time Sets the time of the Timeline.\n   */\n  update(time?: number) {\n    if (!this.playing) return;\n    if (time !== undefined) this.time.seconds = time;\n    this.updateKeyframes();\n    this.updateTime();\n    this.updateMarkers();\n  }\n\n  /**\n   * Updates the Keyframes individually.\n   */\n  updateKeyframes() {\n    this.keyframes.forEach((keyframe: Keyframe) => {\n      if (keyframe.isActive(this.seconds)) {\n        keyframe.update(this.seconds);\n      }\n    });\n  }\n\n  /**\n   * Updates the Markers individually.\n   */\n  updateMarkers() {\n    const total = this.markers.length;\n    for (let i = 0; i < total; ++i) {\n      const marker = this.markers[i];\n      const isActive = between(this.time.prevSeconds, this.time.seconds, marker.time);\n      if (isActive) {\n        if (marker.callback !== undefined) {\n          marker.callback();\n        }\n        if (marker.name.search('-stop') > 0) {\n          this.pause();\n          this.seconds = marker.time;\n        }\n        return;\n      }\n    }\n  }\n\n  /**\n   * Updates the time based on the `playMode`.\n   */\n  updateTime() {\n    const { now } = this;\n    const delta = (now - this.time.lastUpdate) / 1000;\n    const nextTime = this.time.seconds + (delta * this.speed);\n    this.time.lastUpdate = now;\n    this.time.prevSeconds = this.time.seconds;\n    this.time.seconds = nextTime;\n\n    if (this.duration > 0 && this.time.seconds >= this.duration) {\n      switch (this.mode) {\n        default:\n        case PlayMode.Loop:\n          this.time.seconds = 0;\n          break;\n        case PlayMode.Once:\n          this.time.seconds = this.duration;\n          this.playing = false;\n          break;\n        case PlayMode.PingPong:\n          this.time.seconds = this.duration - delta;\n          this.speed = -Math.abs(this.speed);\n          break;\n      }\n    }\n\n    // Reverse Ping-Pong to play forward\n    if (this.time.seconds < 0 && this.mode === PlayMode.PingPong) {\n      this.time.seconds = 0;\n      this.speed = Math.abs(this.speed);\n    }\n  }\n\n  /**\n   * Resets the time so there isn't a big time-jump.\n   */\n  resetTime() {\n    this.time.lastUpdate = this.now;\n  }\n\n  get now(): number {\n    return (performance || Date).now();\n  }\n\n  get seconds(): number {\n    return this.time.seconds;\n  }\n\n  set seconds(value: number) {\n    this.time.seconds = value;\n  }\n}\n","import Timeline from '../Timeline';\n\n/**\n * An After Effects layer.\n */\nexport default class Layer {\n  /**\n   * The name of the layer (should be unique).\n   */\n  name: string = '';\n\n  /**\n   * The time the layer begins.\n   */\n  start: number = 0;\n\n  /**\n   * The duration the layer exists on the Timeline.\n   */\n  duration: number = 0;\n\n  /**\n   * If the layer is currently visible (in time).\n   */\n  showing: boolean = true;\n\n  /**\n   * An object used when extending this class.\n   */\n  item: any = undefined;\n\n  /**\n   * If the layer has a file associated to it (audio/image/video/etc),\n   * this should be the file name.\n   */\n  fileID: string = ''; // to reclaim from loader\n\n  /**\n   * If the layer has a file associated to it (audio/image/video/etc),\n   * this should be the file.\n   */\n  file: any = undefined; // actual loaded asset\n\n  /**\n   * Creates a new layer based on the JSON data.\n   * @param json The JSON data of the layer.\n   * @param assets The loaded assets.\n   */\n  constructor(json: any, assets: any) {\n    this.name = json.name !== undefined ? json.name : '';\n    this.start = json.start !== undefined ? json.start : 0; // start time\n    this.duration = json.duration !== undefined ? json.duration : 0; // duration the layer is in comp\n    this.showing = json.showing !== undefined ? json.showing : true;\n  }\n\n  /**\n   * Clears all memory of the layer.\n   */\n  dispose() {\n    //\n  }\n\n  /**\n   * Updates the item and any other animation paramaters needed.\n   * @param time The time of the composition.\n   * @param duration The duration of the composition.\n   */\n  update(time?: number, duration?: number) {\n    if (this.item !== undefined && this.item.update !== undefined) {\n      this.item.update(time, duration !== undefined ? duration : this.duration);\n    }\n  }\n\n  /**\n   * Renders the layer.\n   */\n  draw() {\n    if (this.item !== undefined && this.item.draw !== undefined) {\n      this.item.draw();\n    }\n  }\n\n  /**\n   * Resizes the layer to the size of the composition.\n   * @param width The composition width.\n   * @param height The composition height.\n   */\n  resize(width: number, height: number) {\n    if (this.item !== undefined && this.item.resize !== undefined) {\n      this.item.resize(width, height);\n    }\n  }\n\n  /**\n   * Animates unique variables, like shape data.\n   * @param json The JSON data.\n   * @param timeline The composition timeline.\n   */\n  animate(json: any, timeline: Timeline) {\n    if (this.item !== undefined && this.item.animate !== undefined) {\n      this.item.animate(json, timeline);\n    }\n  }\n\n  /**\n   * Animates the transform object.\n   * @param json The JSON data\n   * @param timeline The composition timeline.\n   */\n  transform(json: any, timeline: Timeline) {\n    if (this.item !== undefined && this.item.transform !== undefined) {\n      this.item.transform(json, timeline);\n    }\n  }\n\n  /**\n   * Checks if the layer is currently viewable based on the given time.\n   * @param time The time of the composition.\n   */\n  showable(time: number): boolean {\n    const endTime = this.start + this.duration;\n    return (this.duration > 0) ? (time >= this.start && time <= endTime) : true;\n  }\n}\n","import Layer from './Layer';\nimport { between } from '../math';\nimport { fileName } from '../utils';\n\n/**\n * An audio object.\n */\nexport default class LayerAudio extends Layer {\n  constructor(json: any, assets: any) {\n    super(json, assets);\n\n    this.fileID = fileName(json.content.value.source);\n    this.file = assets.audio[this.fileID] as HTMLAudioElement;\n  }\n\n  dispose() {\n    this.file.pause();\n  }\n\n  update(time: number, duration: number) {\n    const startTime = this.start;\n    const endTime = this.start + this.file.duration;\n    const active = between(startTime, endTime, time);\n    if (this.file.paused && active) {\n      this.file.play();\n    }\n  }\n}\n","import Layer from './Layer';\nimport { fileName } from '../utils';\n\n/**\n * An image elment.\n */\nexport default class LayerImage extends Layer {\n  constructor(json: any, assets: any) {\n    super(json, assets);\n\n    this.fileID = fileName(json.content.source);\n    this.file = assets.images[this.fileID] as HTMLImageElement;\n  }\n}\n","import Layer from './Layer';\n\n/**\n * An animatable shape.\n */\nexport default class LayerShape extends Layer {\n}\n","import Layer from './Layer';\n\n/**\n * Animatable text.\n */\nexport default class LayerText extends Layer {\n}\n","import Layer from './Layer';\nimport { fileName } from '../utils';\n\n/**\n * A video element.\n */\nexport default class LayerVideo extends Layer {\n  constructor(json: any, assets: any) {\n    super(json, assets);\n\n    this.fileID = fileName(json.content.source);\n    this.file = assets.videos[this.fileID] as HTMLVideoElement;\n    if (!json.content.audioEnabled) {\n      this.file.setAttribute('muted', 'true');\n      this.file.muted = false;\n      this.file.volume = 0;\n    }\n  }\n\n  dispose() {\n    this.file.pause();\n  }\n}\n","import Layer from './Layer';\nimport Marker from '../Marker';\nimport PlayMode from '../PlayMode';\nimport Timeline from '../Timeline';\nimport LayerAudio from './LayerAudio';\nimport LayerImage from './LayerImage';\nimport LayerShape from './LayerShape';\nimport LayerText from './LayerText';\nimport LayerVideo from './LayerVideo';\n\n/**\n * An After Effects composition.\n */\nexport default class Composition extends Layer {\n  /**\n   * The width of the composition.\n   */\n  width: number = 0;\n\n  /**\n   * The height of the composition.\n   */\n  height: number = 0;\n\n  /**\n   * The layers of the composition.\n   */\n  layers: Array<Layer> = [];\n\n  /**\n   * The Timeline to animate to.\n   */\n  timeline: Timeline = new Timeline({});\n\n  /**\n   * The Composition's camera, if it has one.\n   */\n  camera: any = undefined;\n\n  /**\n   * Creates a Composition & all the layers.\n   * @param json The Composition JSON data.\n   * @param assets The loaded assets.\n   */\n  constructor(json: any, assets: any) {\n    super(json, assets);\n    this.width = json.width;\n    this.height = json.height;\n    this.timeline.duration = json.duration;\n    this.showing = this.start === 0;\n  }\n\n  /**\n   * Disposes the Composition and all the layers.\n   */\n  dispose() {\n    this.timeline.dispose();\n    this.camera = undefined;\n    this.layers.forEach((layer: Layer) => {\n      layer.dispose();\n    });\n    this.layers = [];\n  }\n\n  /**\n   * Adds a Layer to the end of the Layer stack.\n   * @param layer Any type of Layer\n   */\n  addLayer(layer: Layer) {\n    layer.showing = this.start === 0 && layer.start === 0;\n    this.layers.push(layer);\n  }\n\n  /**\n   * Animates the viewable Layers.\n   * @param time The time of an optional parent Composition.\n   * @param duration The duration of an optional parent Composition.\n   */\n  update(time?: number, duration?: number) {\n    const d = duration !== undefined ? duration : this.timeline.duration;\n    this.timeline.duration = d;\n    this.timeline.update(time);\n    this.updateLayers(this.timeline.seconds, d);\n  }\n\n  /**\n   * Checks if the Layers are viewable & updates them.\n   * @param time The time of the Composition.\n   * @param duration The duration of the Composition.\n   */\n  updateLayers(time: number, duration: number) {\n    const total = this.layers.length;\n    for (let i = 0; i < total; ++i) {\n      const l = this.layers[i];\n      const visible = l.showable(time);\n      if (visible) {\n        if (l instanceof Composition) {\n          if (!l.showing) {\n            l.play();\n          }\n          l.update(time, duration);\n        } else {\n          l.update(time, duration);\n        }\n      } else if (l.showing && l instanceof Composition) {\n        if (l.timeline.playing && l.timeline.seconds > 0) {\n          l.timeline.seconds = l.timeline.duration;\n\n          if (l.timeline.speed < 0) {\n            l.timeline.seconds = 0;\n          }\n        }\n      }\n      l.showing = visible;\n    }\n  }\n\n  /**\n   * Renders the viewable Layers.\n   */\n  draw() {\n    const time = this.seconds;\n    const total = this.layers.length;\n    for (let i = 0; i < total; ++i) {\n      const l = this.layers[i];\n      const visible = l.showable(time);\n      if (visible) l.draw();\n    }\n  }\n\n  /**\n   * Plays the Timeline.\n   */\n  play() {\n    this.timeline.play();\n    this.playLayers();\n  }\n\n  /**\n   * Pauses the Timeline.\n   */\n  pause() {\n    this.timeline.pause();\n    this.pauseLayers();\n  }\n\n  /**\n   * @ignore\n   */\n  playLayers() {\n    const time = this.seconds;\n    const total = this.layers.length;\n    for (let i = 0; i < total; ++i) {\n      const layer = this.layers[i];\n      if (layer instanceof Composition && layer.showable(time)) {\n        layer.play();\n      }\n    }\n  }\n\n  /**\n   * @ignore\n   */\n  pauseLayers() {\n    const total = this.layers.length;\n    for (let i = 0; i < total; ++i) {\n      const layer = this.layers[i];\n      if (layer instanceof Composition && layer.playing) {\n        layer.pause();\n      }\n    }\n  }\n\n  /**\n   * Resizes all the Layers, but does not reset the size of the Composition.\n   * @param width Generally the view width.\n   * @param height Generally the view height.\n   */\n  resize(width: number, height: number) {\n    this.layers.forEach((layer: Layer) => {\n      layer.resize(width, height);\n    });\n  }\n\n  // Build\n\n  /**\n   * Creates all the Layers based on the JSON data.\n   * @param json The Composition JSON data.\n   * @param assets The loaded assets.\n   * @param parentComp An optional parent Composition to limit the timeline to.\n   */\n  build(json: any, assets: any, parentComp?: Composition) {\n    this.name = json.name;\n    this.width = json.width;\n    this.height = json.height;\n    if (parentComp !== undefined) {\n      this.duration = Math.min(this.duration, parentComp.duration);\n      this.timeline.duration = this.duration;\n    }\n\n    // Build markers\n    let total = json.markers.length;\n    for (let i = 0; i < total; ++i) {\n      const m = json.markers[i];\n      this.timeline.markers.push(new Marker(m.name, m.time));\n    }\n\n    // Build layers\n    total = json.layers.length;\n    for (let i = total - 1; i > -1; --i) {\n      const layer = this.buildLayer(json, assets, json.layers[i]);\n      if (layer !== undefined) this.layers.push(layer);\n    }\n  }\n\n  /**\n   * Checks the Layer type and creates a new Layer based on it.\n   * @param json The Composition JSON data.\n   * @param assets The loaded assets.\n   * @param item The Layer JSON data.\n   */\n  buildLayer(json: any, assets: any, item: any): Layer | undefined {\n    let layer: Layer | undefined;\n\n    // Create layer...\n    switch (item.type) {\n      case 'adjustment':\n        if (item.name === 'post') {\n          this.buildPost(item);\n        }\n        break;\n      case 'audio':\n        layer = this.buildLayerAudio(json, item, assets);\n        break;\n      case 'camera':\n        this.buildCamera(item);\n        break;\n      case 'composition':\n        layer = this.buildLayerComposition(json, item, assets);\n        break;\n      default:\n      case 'image':\n        layer = this.buildLayerImage(json, item, assets);\n        break;\n      case 'shape':\n        layer = this.buildLayerShape(json, item, assets);\n        break;\n      case 'text':\n        layer = this.buildLayerText(json, item, assets);\n        break;\n      case 'video':\n        layer = this.buildLayerVideo(json, item, assets);\n        break;\n    }\n\n    if (layer !== undefined) {\n      layer.duration = Math.min(this.timeline.duration, item.duration);\n    }\n\n    return layer;\n  }\n\n  /**\n   * Creates an Audio-based Layer.\n   * @param json The Composition JSON data.\n   * @param item The Layer JSON data.\n   * @param assets The loaded assets.\n   */\n  buildLayerAudio(json: any, item: any, assets: any) {\n    const layer = new LayerAudio(item, assets);\n    return layer;\n  }\n\n  /**\n   * Creates a Camera object.\n   * @param item The Layer JSON data.\n   */\n  buildCamera(item: any) {\n    //\n  }\n\n  /**\n   * Creates a Composition-based Layer.\n   * @param json The Composition JSON data.\n   * @param item The Layer JSON data.\n   * @param assets The loaded assets.\n   */\n  buildLayerComposition(json: any, item: any, assets: any): Composition {\n    const layer = new Composition(item, assets);\n    layer.build(json, item, this);\n    return layer;\n  }\n\n  /**\n   * Creates an Image-based Layer.\n   * @param json The Composition JSON data.\n   * @param item The Layer JSON data.\n   * @param assets The loaded assets.\n   */\n  buildLayerImage(json: any, item: any, assets: any): Layer {\n    const layer = new LayerImage(item, assets);\n    return layer;\n  }\n\n  /**\n   * Creates a Shape-based Layer.\n   * @param json The Composition JSON data.\n   * @param item The Layer JSON data.\n   * @param assets The loaded assets.\n   */\n  buildLayerShape(json: any, item: any, assets: any) {\n    const layer = new LayerShape(item, assets);\n    return layer;\n  }\n\n  /**\n   * Creates a Text-based Layer.\n   * @param json The Composition JSON data.\n   * @param item The Layer JSON data.\n   * @param assets The loaded assets.\n   */\n  buildLayerText(json: any, item: any, assets: any): Layer {\n    const layer = new LayerText(item, assets);\n    return layer;\n  }\n\n  /**\n   * Creates a Video-based Layer.\n   * @param json The Composition JSON data.\n   * @param item The Layer JSON data.\n   * @param assets The loaded assets.\n   */\n  buildLayerVideo(json: any, item: any, assets: any): Layer {\n    const layer = new LayerVideo(item, assets);\n    return layer;\n  }\n\n  /**\n   * Applies Post-Effects to the Composition\n   * @param json The Composition JSON data.\n   */\n  buildPost(json: any) {\n    //\n  }\n\n  // Getters / Setters\n\n  get playing() {\n    return this.timeline.playing;\n  }\n\n  get playMode(): PlayMode {\n    return this.timeline.mode;\n  }\n\n  get seconds() {\n    return this.timeline.seconds;\n  }\n\n  set playMode(value: PlayMode) {\n    this.timeline.mode = value;\n  }\n\n  set seconds(value: number) {\n    this.timeline.seconds = value;\n  }\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\n__webpack_require__(0);\n__webpack_require__(1);\n__webpack_require__(2);\n__webpack_require__(3);\n__webpack_require__(6);\n__webpack_require__(7);\n__webpack_require__(8);\n__webpack_require__(9);\n__webpack_require__(10);\n__webpack_require__(11);\n__webpack_require__(12);\nvar __webpack_exports__ = __webpack_require__(13);\n"],"sourceRoot":""}