/*! For license information please see fido-three.js.LICENSE.txt */
(()=>{var t=[(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>s});const s={LINEAR:"linear",BEZIER:"bezier",HOLD:"hold",none:[.25,.25,.75,.75],inQuad:[.55,.085,.68,.53],inCubic:[.55,.055,.675,.19],inQuart:[.895,.03,.685,.22],inQuint:[.755,.05,.855,.06],inSine:[.47,0,.745,.715],inExpo:[.95,.05,.795,.035],inCirc:[.6,.04,.98,.335],inBack:[.6,0,.735,.045],outQuad:[.25,.46,.45,.94],outCubic:[.215,.61,.355,1],outQuart:[.165,.84,.44,1],outQuint:[.23,1,.32,1],outSine:[.39,.575,.565,1],outExpo:[.19,1,.22,1],outCirc:[.075,.82,.165,1],outBack:[.175,.885,.32,1],inOutQuad:[.455,.03,.515,.955],inOutCubic:[.645,.045,.355,1],inOutQuart:[.77,0,.175,1],inOutQuint:[.86,0,.07,1],inOutSine:[.445,.05,.55,.95],inOutExpo:[1,0,0,1],inOutCirc:[.785,.135,.15,.86],inOutBack:[.68,0,.265,1]}},(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>s});class s{constructor(t="",e=0){this.name="",this.time=0,this.name=t,this.time=e}}},(t,e,i)=>{"use strict";var s;i.r(e),i.d(e,{default:()=>n}),function(t){t.Loop="Loop",t.Once="Once",t.PingPong="PingPong"}(s||(s={}));const n=s},(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>r});var s=i(4),n=i(5),a=i(0);class r{constructor(t,e){this.name=(0,n.guid)(),this.time=0,this.duration=0,this.ease=a.default.none,this.easeType=a.default.BEZIER,this.props=[],this.startValues=[],this.endValues=[],this.onUpdate=void 0,this.object=t;const i=this.easeType;Object.keys(e).forEach((t=>{const i=e[t];if("name"===t)this.name=i;else if("delay"===t)this.time=i;else if("duration"===t)this.duration=i;else if("ease"===t)this.ease=i;else if("type"===t)this.easeType=i;else if("onUpdate"===t)this.onUpdate=i;else if("start"!==t){let s=this.object[t];void 0!==e.start&&(s=e.start[t]),this.props.push(t),this.startValues.push(s),this.endValues.push(i)}}));const s=this.ease[0]===this.ease[1]&&this.ease[2]===this.ease[3],r=i===this.easeType;s&&r&&(this.easeType=a.default.LINEAR)}update(t){const e=this.time,{endTime:i}=this,n=(0,s.normalize)(e,i,(0,s.clamp)(e,i,t)),a=(0,s.clamp)(0,1,this.getCurve(n));this.props.forEach(((t,e)=>{const i=this.startValues[e],n=this.endValues[e];if(Array.isArray(i)){const e=i.length,r=[];for(let t=0;t<e;++t)r.push((0,s.mix)(i[t],n[t],a));this.object[t]=r}else this.object[t]="string"==typeof i||"boolean"==typeof i?a<1?i:n:(0,s.mix)(i,n,a)})),void 0!==this.onUpdate&&this.onUpdate(a)}getCurve(t){return this.easeType===a.default.BEZIER?(0,s.cubicBezier)(t,this.ease[0],this.ease[1],this.ease[2],this.ease[3]):this.easeType===a.default.HOLD?t<1?0:1:t}isActive(t){return(0,s.between)(this.time,this.time+this.duration,t)}get startTime(){return this.time}get endTime(){return this.time+this.duration}}},(t,e,i)=>{"use strict";i.r(e),i.d(e,{TWO_PI:()=>s,HALF_PI:()=>n,between:()=>a,normalize:()=>r,mix:()=>o,map:()=>l,clamp:()=>d,roundTo:()=>h,distance:()=>u,distance2:()=>c,distance3:()=>f,random:()=>p,cubicBezier:()=>g,tween:()=>v,mixArrays:()=>b});const s=2*Math.PI,n=Math.PI/2;function a(t,e,i){return i>=t&&i<=e}function r(t,e,i){return(i-t)/(e-t)}function o(t,e,i){return t*(1-i)+e*i}function l(t,e,i,s,n){return o(i,s,r(t,e,n))}function d(t,e,i){return Math.min(e,Math.max(t,i))}function h(t,e=1){return Number(t.toFixed(e))}function u(t,e){const i=t-e;return Math.sqrt(i*i)}function c(t,e,i,s){const n=t-i,a=e-s;return Math.sqrt(n*n+a*a)}function f(t,e,i,s,n,a){const r=t-s,o=e-n,l=i-a;return Math.sqrt(r*r+o*o+l*l)}function p(t,e){return o(t,e,Math.random())}function m(t,e,i,s){return 1/(3*e*t*t+2*i*t+s)}function y(t,e,i,s,n){return e*(t*t*t)+i*(t*t)+s*t+n}function g(t,e,i,s,n){if(t<=0)return 0;if(t>=1)return 1;if(function(t,e,i,s){return t===e&&i===s}(e,i,s,n))return t;const a=1-3*s+3*e-0,r=3*s-6*e+0,o=3*e-0,l=1-3*n+3*i-0,d=3*n-6*i+0,h=3*i-0;let u=t;for(let e=0;e<5;e++){const e=y(u,a,r,o,0);let i=m(u,a,r,o);i===1/0&&(i=t),u-=(e-t)*i,u=Math.min(Math.max(u,0),1)}return function(t,e,i,s,n){const a=t*t;return e*(a*t)+i*a+s*t+n}(u,l,d,h,0)}function v(t,e){const i=e.length-1;if(0===i)return e[0];const s=1/i,n=Math.min(Math.floor(t*i),i-1),a=n+1,l=r(n*s,a*s,t);return o(e[n],e[a],l)}function b(t,e,i){const s=[],n=t.length;for(let a=0;a<n;++a)s.push(o(t[a],e[a],i));return s}},(t,e,i)=>{"use strict";function s(t){const e=t.lastIndexOf("/")+1,i=t.lastIndexOf(".");return t.substring(e,i)}function n(){return(Date.now()+Math.round(99999*Math.random())).toString()}i.r(e),i.d(e,{fileName:()=>s,guid:()=>n})},(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>o});var s=i(4),n=i(3),a=i(1),r=i(2);class o{constructor(t){this.duration=0,this.keyframes=[],this.markers=[],this.mode=r.default.Loop,this.playing=!0,this.speed=1,this.time={seconds:0,prevSeconds:0,lastUpdate:0},void 0!==t&&(void 0!==t.mode&&(this.mode=t.mode),void 0!==t.duration&&(this.duration=t.duration),void 0!==t.playing&&(this.playing=t.playing),void 0!==t.speed&&(this.speed=t.speed))}dispose(){this.keyframes=[],this.markers=[]}addKeyframe(t,e){this.keyframes.push(new n.default(t,e))}addMarker(t="",e=0){this.markers.push(new a.default(t,e))}pushKeyframe(t){this.keyframes.push(t)}getMarker(t){const e=this.markers.length;for(let i=0;i<e;++i){const e=this.markers[i];if(e.name===t)return e}}goToMarker(t){const e=this.getMarker(t);void 0!==e&&(this.seconds=e.time,void 0!==e.callback&&e.callback())}play(){this.playing=!0,this.resetTime()}pause(){this.playing=!1}update(t){this.playing&&(void 0!==t&&(this.time.seconds=t),this.updateKeyframes(),this.updateTime(),this.updateMarkers())}updateKeyframes(){this.keyframes.forEach((t=>{t.isActive(this.seconds)&&t.update(this.seconds)}))}updateMarkers(){const t=this.markers.length;for(let e=0;e<t;++e){const t=this.markers[e];if((0,s.between)(this.time.prevSeconds,this.time.seconds,t.time))return void 0!==t.callback&&t.callback(),void(t.name.search("-stop")>0&&(this.pause(),this.seconds=t.time))}}updateTime(){const{now:t}=this,e=(t-this.time.lastUpdate)/1e3,i=this.time.seconds+e*this.speed;if(this.time.lastUpdate=t,this.time.prevSeconds=this.time.seconds,this.time.seconds=i,this.duration>0&&this.time.seconds>=this.duration)switch(this.mode){default:case r.default.Loop:this.time.seconds=0;break;case r.default.Once:this.time.seconds=this.duration,this.playing=!1;break;case r.default.PingPong:this.time.seconds=this.duration-e,this.speed=-Math.abs(this.speed)}this.time.seconds<0&&this.mode===r.default.PingPong&&(this.time.seconds=0,this.speed=Math.abs(this.speed))}resetTime(){this.time.lastUpdate=this.now}get now(){return(performance||Date).now()}get seconds(){return this.time.seconds}set seconds(t){this.time.seconds=t}}},(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>s});class s{constructor(t,e){this.name="",this.start=0,this.duration=0,this.showing=!0,this.item=void 0,this.fileID="",this.file=void 0,this.name=void 0!==t.name?t.name:"",this.start=void 0!==t.start?t.start:0,this.duration=void 0!==t.duration?t.duration:0,this.showing=void 0===t.showing||t.showing}dispose(){}update(t,e){void 0!==this.item&&void 0!==this.item.update&&this.item.update(t,void 0!==e?e:this.duration)}draw(){void 0!==this.item&&void 0!==this.item.draw&&this.item.draw()}resize(t,e){void 0!==this.item&&void 0!==this.item.resize&&this.item.resize(t,e)}animate(t,e){void 0!==this.item&&void 0!==this.item.animate&&this.item.animate(t,e)}transform(t,e){void 0!==this.item&&void 0!==this.item.transform&&this.item.transform(t,e)}showable(t){const e=this.start+this.duration;return!(this.duration>0)||t>=this.start&&t<=e}}},(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>r});var s=i(7),n=i(4),a=i(5);class r extends s.default{constructor(t,e){super(t,e),this.fileID=(0,a.fileName)(t.content.value.source),this.file=e.audio[this.fileID]}dispose(){this.file.pause()}update(t,e){const i=this.start,s=this.start+this.file.duration,a=(0,n.between)(i,s,t);this.file.paused&&a&&this.file.play()}}},(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>a});var s=i(7),n=i(5);class a extends s.default{constructor(t,e){super(t,e),this.fileID=(0,n.fileName)(t.content.source),this.file=e.images[this.fileID]}}},(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>n});var s=i(7);class n extends s.default{}},(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>n});var s=i(7);class n extends s.default{}},(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>a});var s=i(7),n=i(5);class a extends s.default{constructor(t,e){super(t,e),this.fileID=(0,n.fileName)(t.content.source),this.file=e.videos[this.fileID],t.content.audioEnabled||(this.file.setAttribute("muted","true"),this.file.muted=!1,this.file.volume=0)}dispose(){this.file.pause()}}},(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>u});var s=i(7),n=i(1),a=i(6),r=i(8),o=i(9),l=i(10),d=i(11),h=i(12);class u extends s.default{constructor(t,e){super(t,e),this.width=0,this.height=0,this.layers=[],this.timeline=new a.default({}),this.camera=void 0,this.width=t.width,this.height=t.height,this.timeline.duration=t.duration,this.showing=0===this.start}dispose(){this.timeline.dispose(),this.camera=void 0,this.layers.forEach((t=>{t.dispose()})),this.layers=[]}addLayer(t){t.showing=0===this.start&&0===t.start,this.layers.push(t)}update(t,e){const i=void 0!==e?e:this.timeline.duration;this.timeline.duration=i,this.timeline.update(t),this.updateLayers(this.timeline.seconds,i)}updateLayers(t,e){const i=this.layers.length;for(let s=0;s<i;++s){const i=this.layers[s],n=i.showable(t);n?i instanceof u?(i.showing||i.play(),i.update(t,e)):i.update(t,e):i.showing&&i instanceof u&&i.timeline.playing&&i.timeline.seconds>0&&(i.timeline.seconds=i.timeline.duration,i.timeline.speed<0&&(i.timeline.seconds=0)),i.showing=n}}draw(){const t=this.seconds,e=this.layers.length;for(let i=0;i<e;++i){const e=this.layers[i];e.showable(t)&&e.draw()}}play(){this.timeline.play(),this.playLayers()}pause(){this.timeline.pause(),this.pauseLayers()}playLayers(){const t=this.seconds,e=this.layers.length;for(let i=0;i<e;++i){const e=this.layers[i];e instanceof u&&e.showable(t)&&e.play()}}pauseLayers(){const t=this.layers.length;for(let e=0;e<t;++e){const t=this.layers[e];t instanceof u&&t.playing&&t.pause()}}resize(t,e){this.layers.forEach((i=>{i.resize(t,e)}))}build(t,e,i){this.name=t.name,this.width=t.width,this.height=t.height,void 0!==i&&(this.duration=Math.min(this.duration,i.duration),this.timeline.duration=this.duration);let s=t.markers.length;for(let e=0;e<s;++e){const i=t.markers[e];this.timeline.markers.push(new n.default(i.name,i.time))}s=t.layers.length;for(let i=s-1;i>-1;--i){const s=this.buildLayer(t,e,t.layers[i]);void 0!==s&&this.layers.push(s)}}buildLayer(t,e,i){let s;switch(i.type){case"adjustment":"post"===i.name&&this.buildPost(i);break;case"audio":s=this.buildLayerAudio(t,i,e);break;case"camera":this.buildCamera(i);break;case"composition":s=this.buildLayerComposition(t,i,e);break;default:case"image":s=this.buildLayerImage(t,i,e);break;case"shape":s=this.buildLayerShape(t,i,e);break;case"text":s=this.buildLayerText(t,i,e);break;case"video":s=this.buildLayerVideo(t,i,e)}return void 0!==s&&(s.duration=Math.min(this.timeline.duration,i.duration)),s}buildLayerAudio(t,e,i){return new r.default(e,i)}buildCamera(t){}buildLayerComposition(t,e,i){const s=new u(e,i);return s.build(t,e,this),s}buildLayerImage(t,e,i){return new o.default(e,i)}buildLayerShape(t,e,i){return new l.default(e,i)}buildLayerText(t,e,i){return new d.default(e,i)}buildLayerVideo(t,e,i){return new h.default(e,i)}buildPost(t){}get playing(){return this.timeline.playing}get playMode(){return this.timeline.mode}get seconds(){return this.timeline.seconds}set playMode(t){this.timeline.mode=t}set seconds(t){this.timeline.seconds=t}}},(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>h});var s=i(15),n=i(16),a=i.n(n),r=i(20),o=i.n(r);const l={min:[0,0],max:[0,0]};function d(t,e){!function(t){const e=t.length/2;l.min[0]=t[0],l.min[1]=t[1],l.max[0]=t[0],l.max[1]=t[1];for(let i=0;i<e;i++){const e=t[2*i+0],s=t[2*i+1];l.min[0]=Math.min(e,l.min[0]),l.min[1]=Math.min(s,l.min[1]),l.max[0]=Math.max(e,l.max[0]),l.max[1]=Math.max(s,l.max[1])}}(t);const i=l.min[0],s=l.min[1],n=l.max[0]-i,a=l.max[1]-s,r=Math.sqrt(n*n+a*a);e.center.set(i+n/2,s+a/2,0),e.radius=r/2}class h extends s.BufferGeometry{constructor(){super(),this.layout=void 0,this.glyphs=void 0,this.texWidth=0,this.texHeight=0,this.setAttribute("position",new s.BufferAttribute(new Float32Array([]),2))}update(t){this.layout=a()(t),this.glyphs=this.layout.glyphs.filter((t=>{const e=t.data;return e.width*e.height>0})),this.texWidth=t.font.common.scaleW,this.texHeight=t.font.common.scaleH;const e=function(t){const e=new Float32Array(4*t.length*2);let i=0;return t.forEach((t=>{const s=t.data,n=t.position[0]+s.xoffset,a=t.position[1]+s.yoffset,r=s.width,o=s.height;e[i++]=n,e[i++]=a,e[i++]=n,e[i++]=a+o,e[i++]=n+r,e[i++]=a+o,e[i++]=n+r,e[i++]=a})),e}(this.glyphs),i=function(t,e,i,s=!0){const n=new Float32Array(4*t.length*2);let a=0;return t.forEach((t=>{const r=t.data,o=r.x+r.width,l=r.y+r.height,d=r.x/e;let h=r.y/i;const u=o/e;let c=l/i;s&&(h=(i-r.y)/i,c=(i-l)/i),n[a++]=d,n[a++]=h,n[a++]=d,n[a++]=c,n[a++]=u,n[a++]=c,n[a++]=u,n[a++]=h})),n}(this.glyphs,this.texWidth,this.texHeight,t.flipY),n=o()([],{clockwise:!0,type:"uint16",count:this.glyphs.length});if(this.setIndex(n),this.setAttribute("position",new s.BufferAttribute(e,2)),this.setAttribute("uv",new s.BufferAttribute(i,2)),t.multipage){const t=function(t){const e=new Float32Array(4*t.length*1);let i=0;return t.forEach((t=>{const s=t.data.page||0;e[i++]=s,e[i++]=s,e[i++]=s,e[i++]=s})),e}(this.glyphs);this.setAttribute("page",new s.BufferAttribute(t,1))}}updateCopy(){}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new s.Sphere);const t=this.attributes.position.array,e=this.attributes.position.itemSize;if(!t||!e||t.length<2)return this.boundingSphere.radius=0,void this.boundingSphere.center.set(0,0,0);d(t,this.boundingSphere),Number.isNaN(this.boundingSphere.radius)&&console.error("THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN")}}},t=>{"use strict";t.exports=three},(t,e,i)=>{var s=i(17),n=i(18),a=i(19),r=["x","e","a","o","n","s","r","c","u","m","v","w","z"],o=["m","w"],l=["H","I","N","E","F","K","L","T","U","V","W","X","Y","Z"],d="\t".charCodeAt(0),h=" ".charCodeAt(0);function u(t){this.glyphs=[],this._measure=this.computeMetrics.bind(this),this.update(t)}function c(t){return new Function(["return function "+t+"() {","  return this._"+t,"}"].join("\n"))()}function f(t,e){if(!t.chars||0===t.chars.length)return null;var i=m(t.chars,e);return i>=0?t.chars[i]:null}function p(t,e,i){if(!t.kernings||0===t.kernings.length)return 0;for(var s=t.kernings,n=0;n<s.length;n++){var a=s[n];if(a.first===e&&a.second===i)return a.amount}return 0}function m(t,e,i){for(var s=i=i||0;s<t.length;s++)if(t[s].id===e)return s;return-1}t.exports=function(t){return new u(t)},u.prototype.update=function(t){if(t=n({measure:this._measure},t),this._opt=t,this._opt.tabSize=a(this._opt.tabSize,4),!t.font)throw new Error("must provide a valid bitmap font");var e=this.glyphs,i=t.text||"",o=t.font;this._setupSpaceGlyphs(o);var d=s.lines(i,t),h=t.width||0;e.length=0;var u=d.reduce((function(t,e){return Math.max(t,e.width,h)}),0),c=0,f=0,y=a(t.lineHeight,o.common.lineHeight),g=o.common.base,v=y-g,b=t.letterSpacing||0,w=y*d.length-v,x=function(t){if("center"===t)return 1;if("right"===t)return 2;return 0}(this._opt.align);f-=w,this._width=u,this._height=w,this._descender=y-g,this._baseline=g,this._xHeight=function(t){for(var e=0;e<r.length;e++){var i=r[e].charCodeAt(0),s=m(t.chars,i);if(s>=0)return t.chars[s].height}return 0}(o),this._capHeight=function(t){for(var e=0;e<l.length;e++){var i=l[e].charCodeAt(0),s=m(t.chars,i);if(s>=0)return t.chars[s].height}return 0}(o),this._lineHeight=y,this._ascender=y-v-this._xHeight;var M=this;d.forEach((function(t,s){for(var n,a=t.start,r=t.end,l=t.width,d=a;d<r;d++){var h=i.charCodeAt(d),m=M.getGlyph(o,h);if(m){n&&(c+=p(o,n.id,m.id));var g=c;1===x?g+=(u-l)/2:2===x&&(g+=u-l),e.push({position:[g,f],data:m,index:d,line:s}),c+=m.xadvance+b,n=m}}f+=y,c=0})),this._linesTotal=d.length},u.prototype._setupSpaceGlyphs=function(t){if(this._fallbackSpaceGlyph=null,this._fallbackTabGlyph=null,t.chars&&0!==t.chars.length){var e=f(t,h)||function(t){for(var e=0;e<o.length;e++){var i=o[e].charCodeAt(0),s=m(t.chars,i);if(s>=0)return t.chars[s]}return 0}(t)||t.chars[0],i=this._opt.tabSize*e.xadvance;this._fallbackSpaceGlyph=e,this._fallbackTabGlyph=n(e,{x:0,y:0,xadvance:i,id:d,xoffset:0,yoffset:0,width:0,height:0})}},u.prototype.getGlyph=function(t,e){var i=f(t,e);return i||(e===d?this._fallbackTabGlyph:e===h?this._fallbackSpaceGlyph:null)},u.prototype.computeMetrics=function(t,e,i,s){var n,a=this._opt.letterSpacing||0,r=this._opt.font,o=0,l=0,d=0;if(!r.chars||0===r.chars.length)return{start:e,end:e,width:0};i=Math.min(t.length,i);for(var h=e;h<i;h++){var u,c=t.charCodeAt(h);if(u=this.getGlyph(r,c)){u.xoffset;var f=(o+=n?p(r,n.id,u.id):0)+u.xadvance+a,m=o+u.width;if(m>=s||f>=s)break;o=f,l=m,n=u}d++}return n&&(l+=n.xoffset),{start:e,end:e+d,width:l}},["width","height","descender","ascender","xHeight","baseline","capHeight","lineHeight"].forEach((function(t){Object.defineProperty(u.prototype,t,{get:c(t),configurable:!0})}))},t=>{var e=/\n/,i="\n",s=/\s/;function n(t,e,i,s){var n=t.indexOf(e,i);return-1===n||n>s?s:n}function a(t){return s.test(t)}function r(t,e,i,s){return{start:e,end:e+Math.min(s,i-e)}}t.exports=function(e,i){return t.exports.lines(e,i).map((function(t){return e.substring(t.start,t.end)})).join("\n")},t.exports.lines=function(t,s){if(0===(s=s||{}).width&&"nowrap"!==s.mode)return[];t=t||"";var o="number"==typeof s.width?s.width:Number.MAX_VALUE,l=Math.max(0,s.start||0),d="number"==typeof s.end?s.end:t.length,h=s.mode,u=s.measure||r;return"pre"===h?function(t,i,s,n,a){for(var r=[],o=s,l=s;l<n&&l<i.length;l++){var d=i.charAt(l),h=e.test(d);if(h||l===n-1){var u=t(i,o,h?l:l+1,a);r.push(u),o=l+1}}return r}(u,t,l,d,o):function(t,e,s,r,o,l){var d=[],h=o;"nowrap"===l&&(h=Number.MAX_VALUE);for(;s<r&&s<e.length;){for(var u=n(e,i,s,r);s<u&&a(e.charAt(s));)s++;var c=t(e,s,u,h),f=s+(c.end-c.start),p=f+i.length;if(f<u){for(;f>s&&!a(e.charAt(f));)f--;if(f===s)p>s+i.length&&p--,f=p;else for(p=f;f>s&&a(e.charAt(f-i.length));)f--}if(f>=s){var m=t(e,s,f,h);d.push(m)}s=p}return d}(u,t,l,d,o,h)}},t=>{t.exports=function(){for(var t={},i=0;i<arguments.length;i++){var s=arguments[i];for(var n in s)e.call(s,n)&&(t[n]=s[n])}return t};var e=Object.prototype.hasOwnProperty},t=>{t.exports=function(t,e){return"number"==typeof t?t:"number"==typeof e?e:0}},(t,e,i)=>{var s=i(21),n=i(22),a=i(23),r=[0,2,3],o=[2,1,3];t.exports=function(t,e){t&&(n(t)||a(t))||(e=t||{},t=null);for(var i="string"==typeof(e="number"==typeof e?{count:e}:e||{}).type?e.type:"uint16",l="number"==typeof e.count?e.count:1,d=e.start||0,h=!1!==e.clockwise?r:o,u=h[0],c=h[1],f=h[2],p=6*l,m=t||new(s(i))(p),y=0,g=0;y<p;y+=6,g+=4){var v=y+d;m[v+0]=g+0,m[v+1]=g+1,m[v+2]=g+2,m[v+3]=g+u,m[v+4]=g+c,m[v+5]=g+f}return m}},t=>{t.exports=function(t){switch(t){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}},t=>{var e=Object.prototype.toString;t.exports=function(t){return t.BYTES_PER_ELEMENT&&"[object ArrayBuffer]"===e.call(t.buffer)||Array.isArray(t)}},t=>{function e(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}t.exports=function(t){return null!=t&&(e(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&e(t.slice(0,0))}(t)||!!t._isBuffer)}},(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>o});var s=i(15),n=i(25),a=i.n(n),r=i(4);class o extends s.BufferGeometry{constructor(t,e={}){super(),this.pathLength=0,this.setAttribute("position",new s.BufferAttribute(new Float32Array,3)),this.setAttribute("lineNormal",new s.BufferAttribute(new Float32Array,2)),this.setAttribute("lineMiter",new s.BufferAttribute(new Float32Array,1)),this.setIndex(new s.BufferAttribute(new Float32Array,1)),e.distances&&this.setAttribute("lineDistance",new s.BufferAttribute(new Float32Array,2)),this.update(t,e.closed)}update(t,e){const i=a()(t,e);e&&((t=t.slice()).push(t[0]),i.push(i[0]));const n=this.getAttribute("lineDistance");let o,l=0;t.forEach((t=>{void 0!==o&&(l+=(0,r.distance2)(t[0],t[1],o[0],o[1])),o=t})),this.pathLength=l,o=void 0;let d=0,h=0;const u=[],c=[],f=[],p=t.length,m=p-1;let y=0;for(let e=0;e<p;++e){const i=t[e];e<m&&(u[6*e+0]=y+0,u[6*e+1]=y+1,u[6*e+2]=y+2,u[6*e+3]=y+2,u[6*e+4]=y+1,u[6*e+5]=y+3,y+=2);let s=0;void 0!==o&&(s=(0,r.distance2)(i[0],i[1],o[0],o[1])),o=i,c.push(i[0],i[1],0),c.push(i[0],i[1],0),n&&(d+=s,h+=s/l,f.push(d,l),f.push(d,l))}this.setIndex(u),this.setAttribute("position",new s.BufferAttribute(new Float32Array(c),3)),n&&this.setAttribute("lineDistance",new s.BufferAttribute(new Float32Array(f),2));const g=[],v=[];i.forEach((t=>{const e=t[0],i=t[1];g.push(e[0],e[1]),g.push(e[0],e[1]),v.push(-i,i)})),this.setAttribute("lineNormal",new s.BufferAttribute(new Float32Array(g),2)),this.setAttribute("lineMiter",new s.BufferAttribute(new Float32Array(v),1))}static createPath(t,e){const i=e?window.devicePixelRatio:1,s=[],n=t.length;for(let e=0;e<n;++e)s.push([t[e].x*i,t[e].y*i]);return s}}},(t,e,i)=>{var s=i(26),n=[0,0],a=[0,0],r=[0,0],o=[0,0];function l(t,e,i){t.push([[e[0],e[1]],i])}t.exports=function(t,e){var i=null,d=[];e&&(t=t.slice()).push(t[0]);for(var h=t.length,u=1;u<h;u++){var c=t[u-1],f=t[u],p=u<t.length-1?t[u+1]:null;if(s.direction(n,f,c),i||(i=[0,0],s.normal(i,n)),1===u&&l(d,i,1),p){s.direction(a,p,f);var m=s.computeMiter(r,o,n,a,1);l(d,o,m)}else s.normal(i,n),l(d,i,1)}if(t.length>2&&e){var y=t[h-2],g=t[0],v=t[1];s.direction(n,g,y),s.direction(a,v,g),s.normal(i,n);var b=s.computeMiter(r,o,n,a,1);d[0][0]=o.slice(),d[h-1][0]=o.slice(),d[0][1]=b,d[h-1][1]=b,d.pop()}return d}},(t,e,i)=>{var s=i(27),n=i(28),a=i(29),r=i(30),o=i(31),l=[0,0];t.exports.computeMiter=function(t,e,i,r,d){return s(t,i,r),a(t,t),n(e,-t[1],t[0]),n(l,-i[1],i[0]),d/o(e,l)},t.exports.normal=function(t,e){return n(t,-e[1],e[0]),t},t.exports.direction=function(t,e,i){return r(t,e,i),a(t,t),t}},t=>{t.exports=function(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t}},t=>{t.exports=function(t,e,i){return t[0]=e,t[1]=i,t}},t=>{t.exports=function(t,e){var i=e[0],s=e[1],n=i*i+s*s;n>0&&(n=1/Math.sqrt(n),t[0]=e[0]*n,t[1]=e[1]*n);return t}},t=>{t.exports=function(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t}},t=>{t.exports=function(t,e){return t[0]*e[0]+t[1]*e[1]}},(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>r});var s=i(15),n=i(33),a=i(34);class r extends s.ShaderMaterial{constructor(t={}){const e=void 0!==t.thickness?t.thickness:4,i=void 0!==t.opacity?t.opacity:1,r=void 0!==t.diffuse?t.diffuse:16777215,o=void 0!==t.dash?t.dash:new s.Vector3(0,10,0),l=void 0!==t.trim?t.trim:new s.Vector3(0,1,0);super({uniforms:{thickness:{type:"f",value:e},opacity:{type:"f",value:i},diffuse:{type:"c",value:new s.Color(r)},dash:{type:"f",value:o},trim:{type:"f",value:l}},vertexShader:n.default,fragmentShader:a.default,side:void 0!==t.side?t.side:s.DoubleSide,transparent:void 0===t.transparent||t.transparent})}}},(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>s});const s="#define GLSLIFY 1\nuniform float thickness;\nattribute float lineMiter;\nattribute vec2 lineNormal;\nattribute vec2 lineDistance; // x = pos, y = total length\nvarying vec2 lineU;\n\nvoid main() {\n  lineU = lineDistance;\n  vec3 pointPos = position.xyz + vec3(lineNormal * thickness/2.0 * lineMiter, 0.0);\n  gl_Position = projectionMatrix * modelViewMatrix * vec4( pointPos, 1.0 );\n}"},(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>s});const s="#define GLSLIFY 1\n/**\n * TODO:\n * Replace shader with code from this paper:\n * https://hal.inria.fr/hal-00907326/PDF/paper.pdf\n */\n\nvarying vec2 lineU; // x = pos, y = total length\n\nuniform vec3 diffuse;\nuniform float opacity;\nuniform vec3 dash; // x = dash,  y = gap, z = offset\nuniform vec3 trim; // x = start, y = end, z = offset\n\nvoid main() {\n  float opacityMod = 1.0;\n  float offset = trim.z;\n  \n  // Dash\n  if(dash.x > 0.0 && dash.y > 0.0) {\n    offset = (dash.z * 0.5) - (trim.z * lineU.y);\n    float dashEnd = dash.x + dash.y;\n    float lineUMod = mod(lineU.x + offset, dashEnd);\n    opacityMod = 1.0 - smoothstep(dash.x, dash.x + 0.01, lineUMod);\n  }\n  \n  // Trim\n  if(trim.x > 0.0 || trim.y < 1.0) {\n    offset = trim.z;\n    float per = lineU.x / lineU.y;\n    float start = min(trim.x, trim.y) + offset;\n    float end = max(trim.x, trim.y) + offset;\n    \n    if(start == end) {\n      opacityMod = 0.0;\n    } else if(end > 1.0) {\n      if(per > end - 1.0 && per < start) {\n        opacityMod = 0.0;\n      }\n    } else if(start < 0.0) {\n      if(per > end && per < start + 1.0) {\n        opacityMod = 0.0;\n      }\n    } else if(per < start || per > end) {\n      opacityMod = 0.0;\n    }\n  }\n  \n  if(opacityMod == 0.0) {\n    discard;\n  }\n  gl_FragColor = vec4(diffuse, opacity * opacityMod);\n}\n"},(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>r});var s=i(15),n=i(36),a=i(37);class r extends s.RawShaderMaterial{constructor(t){super({uniforms:{opacity:{type:"f",value:1},color:{type:"v3",value:new s.Vector3(1,1,1)},map:{type:"t",value:t}},vertexShader:n.default,fragmentShader:a.default,transparent:!0,side:s.DoubleSide})}get color(){return this.uniforms.color.value}get map(){return this.uniforms.map.value}set color(t){this.uniforms.color.value=t}set map(t){this.uniforms.map.value=t}}},(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>s});const s="#version 300 es\n#define GLSLIFY 1\n\nin vec2 uv;\nin vec4 position;\nuniform mat4 projectionMatrix;\nuniform mat4 modelViewMatrix;\nout vec2 vUv;\n\nvoid main() {\n  vUv = uv;\n  gl_Position = projectionMatrix * modelViewMatrix * position;\n}\n"},(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>s});const s="#version 300 es\n#ifdef GL_OES_standard_derivatives\n#extension GL_OES_standard_derivatives : enable\n#endif\n\nprecision highp float;\n#define GLSLIFY 1\nuniform float opacity;\nuniform vec3 color;\nuniform sampler2D map;\nin vec2 vUv;\nout vec4 fragColor;\n\n#define alphaTest 1.0 / 255.0\n\nfloat median(float r, float g, float b) {\n  return max(min(r, g), min(max(r, g), b));\n}\n\nvoid main() {\n  vec3 img = texture(map, vUv).rgb;\n  float sigDist = median(img.r, img.g, img.b) - 0.5;\n  float alpha = clamp(sigDist/fwidth(sigDist) + 0.5, 0.0, 1.0);\n  fragColor = vec4(color.xyz, alpha * opacity);\n  if (fragColor.a < alphaTest) discard;\n}\n"},(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>o});var s=i(15),n=i(14),a=i(35),r=i(4);class o extends s.Object3D{constructor(){super(),this.geometry=new n.default,this.material=new a.default(null),this.container=new s.Object3D,this.options={align:"left",flipY:!0,font:void 0,fontSize:42,text:"",letterSpacing:0,width:void 0},this.add(this.container),this.mesh=new s.Mesh(this.geometry,this.material),this.mesh.name="txtSprite",this.mesh.rotation.x=Math.PI,this.container.add(this.mesh)}update(t){void 0!==t.align&&(this.options.align=t.align),void 0!==t.flipY&&(this.options.flipY=t.flipY),void 0!==t.font&&(this.options.font=t.font),void 0!==t.fontSize&&(this.fontSize=t.fontSize),void 0!==t.text&&(this.options.text=t.text),void 0!==t.letterSpacing&&(this.options.letterSpacing=t.letterSpacing),void 0!==t.width&&(this.options.width=t.width),this.geometry.update(this.options);const{layout:e}=this.geometry;this.mesh.position.y=e.lineHeight-e.height-5,"center"===this.options.align?this.mesh.position.x=-e.width/2:"right"===this.options.align&&(this.mesh.position.x=-e.width)}checkToUpdate(){void 0!==this.options.font&&this.update(this.options)}get align(){return this.options.align}get color(){return this.material.color}get fontSize(){return this.options.fontSize}get map(){return this.material.map}get letterSpacing(){return this.options.letterSpacing}get text(){return this.options.text}get width(){return this.options.width}set align(t){this.options.align=t,this.checkToUpdate()}set color(t){Array.isArray(t)?this.material.color=new s.Vector3(t[0],t[1],t[2]):this.material.color=t}set fontSize(t){this.options.fontSize=t;const e=(0,r.normalize)(0,42,t);this.container.scale.setScalar(e)}set map(t){this.material.map=t}set letterSpacing(t){this.options.letterSpacing=t,this.checkToUpdate()}set text(t){this.options.text=t,this.checkToUpdate()}set width(t){this.options.width=t,this.checkToUpdate()}}},(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>l});var s=i(15),n=i(0),a=i(7),r=i(3),o=i(40);class l extends a.default{constructor(t,e,i){super(t,e),this.item=new s.Object3D,this.item.name=`${t.name}Container`}dispose(){(0,o.dispose)(this.item)}static animate(t,e,i,s,n,a={}){const o=void 0!==n?n:1,l=s.keys.length;for(let n=0;n<l;++n){const l=s.keys[n],d=l.value,h=Array.isArray(d),u="string"==typeof d,c=h||u,f=c?l.target:l.target*o,p=new r.default(t,{delay:l.start,duration:l.duration,ease:[l.x0,l.y0,l.x1,l.y1],type:l.type,onUpdate:a.onUpdate});p.props.push(e),p.startValues.push(c?d:d*o),p.endValues.push(f),i.pushKeyframe(p)}}static transform(t,e,i,a){const o=window.devicePixelRatio,l=i,d=l.anchor.length>2?l.anchor:[l.anchor[0],l.anchor[1],0],h=l.position.length>2?l.position:[l.position[0],l.position[1],0],u=l.rotation.length>2?l.rotation:[l.rotation[0],l.rotation[1],0],c=l.scale.length>2?l.scale:[l.scale[0],l.scale[1],1];if(t.position.set(h[0]*o,-h[1]*o,-h[2]*o),t.scale.set(c[0],c[1],c[2]),t.rotation.set(s.MathUtils.degToRad(u[0]),-s.MathUtils.degToRad(u[1]),-s.MathUtils.degToRad(u[2])),void 0!==e&&(e.position.set(-d[0]*o,d[1]*o,d[2]*o),void 0!==e.material&&(e.material.opacity=l.opacity)),void 0===l.timeline)return;const f=l.timeline.length;for(let i=0;i<f;++i){const d=l.timeline[i],h=d.keys.length,u=h-1;for(let i=0;i<h;++i){const l=d.keys[i],{target:h}=l,{duration:c}=l,{x0:f}=l,{y0:p}=l,{x1:m}=l,{y1:y}=l;let g;switch(d.name){case"opacity":void 0!==e&&void 0!==e.material&&(g=new r.default(e.material,{opacity:h,duration:c,delay:l.start,ease:[f,p,m,y],type:l.type,start:{opacity:l.value}}));break;case"anchorX":void 0!==e&&(g=new r.default(e.position,{x:h*-o,duration:c,delay:l.start,ease:[f,p,m,y],type:l.type,start:{x:l.value*-o}}));break;case"anchorY":void 0!==e&&(g=new r.default(e.position,{y:h*o,duration:c,delay:l.start,ease:[f,p,m,y],type:l.type,start:{y:l.value*o}}));break;case"positionX":g=new r.default(t.position,{x:h*o,duration:c,delay:l.start,ease:[f,p,m,y],type:l.type,start:{x:l.value*o}});break;case"positionY":g=new r.default(t.position,{y:-h*o,duration:c,delay:l.start,ease:[f,p,m,y],type:l.type,start:{y:-l.value*o}});break;case"positionZ":g=new r.default(t.position,{z:-h*o,duration:c,delay:l.start,ease:[f,p,m,y],type:l.type,start:{z:-l.value*o}});break;case"rotationX":g=new r.default(t.rotation,{x:s.MathUtils.degToRad(h),duration:c,delay:l.start,ease:[f,p,m,y],type:l.type,start:{x:s.MathUtils.degToRad(l.value)}});break;case"rotationY":g=new r.default(t.rotation,{y:s.MathUtils.degToRad(-h),duration:c,delay:l.start,ease:[f,p,m,y],type:l.type,start:{y:s.MathUtils.degToRad(-l.value)}});break;case"rotation":case"rotationZ":g=new r.default(t.rotation,{z:s.MathUtils.degToRad(-h),duration:c,delay:l.start,ease:[f,p,m,y],type:l.type,start:{z:s.MathUtils.degToRad(-l.value)}});break;case"scaleX":g=new r.default(t.scale,{x:h,duration:c,delay:l.start,ease:[f,p,m,y],type:l.type,start:{x:l.value}});break;case"scaleY":g=new r.default(t.scale,{y:h,duration:c,delay:l.start,ease:[f,p,m,y],type:l.type,start:{y:l.value}});break;case"scaleZ":g=new r.default(t.scale,{z:h,duration:c,delay:l.start,ease:[f,p,m,y],type:l.type,start:{z:l.value}})}if(void 0!==g){if(0===i&&g.startTime>0){const t=new r.default(g.object,{type:n.default.HOLD,duration:g.startTime});t.props=g.props,t.startValues=g.startValues,t.endValues=g.endValues,a.pushKeyframe(t)}else if(i===u&&g.endTime<a.duration){const t=new r.default(g.object,{type:n.default.HOLD,delay:g.endTime,duration:a.duration-g.endTime});t.props=g.props,t.startValues=g.endValues,t.endValues=g.endValues,a.pushKeyframe(t)}a.pushKeyframe(g)}}}}static morph(t,e,i,s){}}},(t,e,i)=>{"use strict";i.r(e),i.d(e,{dispose:()=>n,parseShader:()=>a,anchorGeometry:()=>r,anchorGeometryTL:()=>o,setBlendNormal:()=>l,setBlendAdd:()=>d,setBlendMultiply:()=>h,setBlendScreen:()=>u});var s=i(15);function n(t){for(;t.children.length>0;)n(t.children[0]);t.parent&&t.parent.remove(t),t.geometry&&t.geometry.dispose(),t.material&&(t.material.map&&t.material.map.dispose(),t.material.dispose())}function a(t,e,i){let n=t;const a=`// defines\n${e.join("\n")}`,r=`// options\n${i.join("\n")}`;n=n.replace("/** DEFINES */",a),n=n.replace("/** OPTIONS */",r);const o=n.match(/\#include\s?\<\s?(\w+)\s?\>/gm);if(o){const t=o.length;for(let e=0;e<t;++e){const t=o[e],i=t.substr(10,t.length-11),a=`// ${i}\n${s.ShaderChunk[i]}`;n=n.replace(t,a)}}return n}function r(t,e,i,n){t.applyMatrix4((new s.Matrix4).makeTranslation(e,-i,-n))}function o(t){t.computeBoundingBox();const e=t.boundingBox;r(t,(e.max.x-e.min.x)/2,(e.max.y-e.min.y)/2,0)}function l(t){t.blending=s.NormalBlending,t.blendEquation=s.AddEquation,t.blendSrc=s.SrcAlphaFactor,t.blendDst=s.OneMinusSrcAlphaFactor,t.needsUpdate=!0}function d(t){t.blending=s.CustomBlending,t.blendEquation=s.AddEquation,t.blendSrc=s.SrcAlphaFactor,t.blendDst=s.OneFactor,t.needsUpdate=!0}function h(t){t.blending=s.CustomBlending,t.blendEquation=s.AddEquation,t.blendSrc=s.DstColorFactor,t.blendDst=s.OneMinusSrcAlphaFactor,t.needsUpdate=!0}function u(t){t.blending=s.CustomBlending,t.blendEquation=s.AddEquation,t.blendSrc=s.OneMinusDstColorFactor,t.blendDst=s.OneFactor,t.needsUpdate=!0}},(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>o});var s=i(15),n=i(39),a=i(5),r=i(40);class o extends n.default{constructor(t,e,i){super(t,e,i),this.fileID=(0,a.fileName)(t.content.source);const o=t.content.width,l=t.content.height,d=e.textures[this.fileID],h=new s.PlaneBufferGeometry(o,l,1,1);(0,r.anchorGeometryTL)(h);const u=new s.MeshBasicMaterial({map:d,transparent:!0,side:s.DoubleSide});this.mesh=new s.Mesh(h,u),this.mesh.name=`${t.name}`,this.item.add(this.mesh),n.default.transform(this.item,this.mesh,t.transform,i)}}},(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>h});var s=i(15),n=i(4),a=i(40),r=i(39),o=i(24),l=i(32);function d(t){const e=["stroke","fill","transform","trim","repeater"],i=e.length,s=t.length,n=[];for(let a=0;a<i;++a){const i=e[a];for(let e=0;e<s;++e){if(i===t[e].type){n.push(t[e]);break}}}return n}class h extends r.default{constructor(t,e,i){super(t,e,i),this.mesh=new s.Object3D,this.item.add(this.mesh);const h=window.devicePixelRatio;let u=this.mesh;!function t(e){for(let c=e.length-1;c>-1;--c){const f=e[c];if(void 0!==f.paths&&f.paths.length>0){let t,e,c,p,m,y,g=!0,v={opacity:1,anchor:[0,0,0],position:[0,0,0],rotation:[0,0,0],scale:[1,1,1],timeline:[]},b=f.content.length;const w=d(f.content);for(let t=0;t<b;++t){const e=w[t];switch(e.type){case"fill":c={alpha:e.value.opacity,blend:e.value.blend,color:e.value.color,timeline:e.timeline[0]};break;case"stroke":p={alpha:e.value.opacity,blend:e.value.blend,color:e.value.color,width:e.value.width*h,dashes:e.value.dashes,timeline:e.timeline};break;default:case"transform":v=e;break;case"trim":m=e;break;case"repeater":y=e}}const x=new s.Shape;b=f.paths.length;for(let t=0;t<b;++t){let e,a,o,l,d,u,c,p,m;const y=f.paths[t];switch(g=!0,y.type){case"ellipse":e=y.x*h,a=y.y*h,o=y.width/2*h,l=y.height/2*h,x.ellipse(e,a,o,l,0,n.TWO_PI,!0,Math.PI/2);break;default:case"rectangle":e=(y.x-y.width/2)*h,a=(-y.y-y.height/2)*h,o=y.width*h,l=y.height*h,x.moveTo(e+o,a+l),x.lineTo(e+o,a),x.lineTo(e,a),x.lineTo(e,a+l);break;case"polygon":for(m=y.points,o=y.radius*h,c=n.HALF_PI,x.moveTo(Math.cos(c)*o,Math.sin(c)*o),d=1;d<y.points+1;++d)c=-d/m*n.TWO_PI+n.HALF_PI,x.lineTo(Math.cos(c)*o,Math.sin(c)*o);break;case"polystar":for(m=2*y.points,o=y.outRadius*h,l=y.inRadius*h,c=s.MathUtils.degToRad(y.rotation)+n.HALF_PI,x.moveTo(Math.cos(c)*o,Math.sin(c)*o),c=1/m*n.TWO_PI+s.MathUtils.degToRad(y.rotation)+n.HALF_PI,x.lineTo(Math.cos(c)*l,Math.sin(c)*l),d=1;d<y.points;++d)c=2*d/m*n.TWO_PI+s.MathUtils.degToRad(y.rotation)+n.HALF_PI,x.lineTo(Math.cos(c)*o,Math.sin(c)*o),c=(2*d+1)/m*n.TWO_PI+s.MathUtils.degToRad(y.rotation)+n.HALF_PI,x.lineTo(Math.cos(c)*l,Math.sin(c)*l);break;case"shape":for(m=y.vertices.length,p=!1,g=y.closed,x.moveTo(y.vertices[0][0]*h,y.vertices[0][1]*-h),u=0;u<m;++u)if(0!==y.inTangents[u][0]||0!==y.inTangents[u][1]||0!==y.outTangents[u][0]||0!==y.outTangents[u][1]){p=!0;break}if(p)for(u=0;u<m;++u){if(d=u+1,y.closed)d%=m;else if(d>=m)break;x.bezierCurveTo((y.vertices[u][0]+y.outTangents[u][0])*h,(y.vertices[u][1]+y.outTangents[u][1])*-h,(y.vertices[d][0]+y.inTangents[d][0])*h,(y.vertices[d][1]+y.inTangents[d][1])*-h,y.vertices[d][0]*h,y.vertices[d][1]*-h)}else for(u=0;u<m;++u){if(d=u+1,y.closed)d%=m;else if(d>=m)break;x.lineTo(y.vertices[d][0]*h,y.vertices[d][1]*-h)}r.default.morph(x,y,i,p)}}const M=new s.Object3D;if(u.add(M),void 0!==c){const n=new s.Color(c.color[0],c.color[1],c.color[2]),o=new s.MeshBasicMaterial({color:n,opacity:c.alpha,side:s.DoubleSide,transparent:!0,depthTest:!1});if(t=new s.ShapeGeometry(x),e=new s.Mesh(t,o),r.default.transform(M,e,v,i),M.add(e),"screen"===c.blend?(0,a.setBlendScreen)(o):"linearDodge"===c.blend?(0,a.setBlendAdd)(o):"multiply"===c.blend&&(0,a.setBlendMultiply)(o),o.opacity=c.alpha,void 0!==c.timeline){const t={color:[n.r,n.g,n.b,1],onUpdate:()=>{o.color.r=t.color[0],o.color.g=t.color[1],o.color.b=t.color[2]}};r.default.animate(t,"color",i,c.timeline,1,{onUpdate:t.onUpdate})}}if(void 0!==p){const n=new s.Color(p.color[0],p.color[1],p.color[2]),a=new l.default({diffuse:n.getHex(),opacity:p.alpha,thickness:p.width});if(void 0!==p.timeline&&p.timeline.forEach((t=>{if("stroke"===t.name){const e={color:[n.r,n.g,n.b,1],onUpdate:()=>{a.uniforms.diffuse.value.r=e.color[0],a.uniforms.diffuse.value.g=e.color[1],a.uniforms.diffuse.value.b=e.color[2]}};r.default.animate(e,"color",i,t,1,{onUpdate:e.onUpdate})}else"opacity"===t.name?r.default.animate(a.uniforms.opacity,"value",i,t,1):"width"===t.name&&r.default.animate(a.uniforms.thickness,"value",i,t,h)})),void 0!==p.dashes&&(a.uniforms.dash.value.x=p.dashes.dash*h,a.uniforms.dash.value.y=p.dashes.gap*h,a.uniforms.dash.value.z=p.dashes.offset*h,void 0!==p.dashes.timeline)){b=p.dashes.timeline.length;for(let t=0;t<b;++t)switch(p.dashes.timeline[t].name){default:case"dash":r.default.animate(a.uniforms.dash.value,"x",i,p.dashes.timeline[t],h);break;case"gap":r.default.animate(a.uniforms.dash.value,"y",i,p.dashes.timeline[t],h);break;case"offset":r.default.animate(a.uniforms.dash.value,"z",i,p.dashes.timeline[t],h)}}if(void 0!==m){a.uniforms.trim.value.x=m.value.start,a.uniforms.trim.value.y=m.value.end,a.uniforms.trim.value.z=m.value.offset,b=m.timeline.length;for(let t=0;t<b;++t)switch(m.timeline[t].name){default:case"start":r.default.animate(a.uniforms.trim.value,"x",i,m.timeline[t]);break;case"end":r.default.animate(a.uniforms.trim.value,"y",i,m.timeline[t]);break;case"offset":r.default.animate(a.uniforms.trim.value,"z",i,m.timeline[t])}}const d=x.getPoints(36),u=o.default.createPath(d,!1);t=new o.default(u,{closed:g,distances:!0}),e=new s.Mesh(t,a),r.default.transform(M,e,v,i),M.add(e)}}else{const e=new s.Object3D;e.name=f.name,u.add(e),u=e,void 0!==f.content&&t(f.content)}}}(t.content),r.default.transform(this.item,this.mesh,t.transform,i)}}},(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>a});var s=i(39),n=i(38);class a extends s.default{constructor(t,e,i){super(t,e,i);const{content:a}=t,{font:r}=a,o=e.json[r],l=e.textures[r],d=a.fontSize*window.devicePixelRatio,h=new n.default;h.name=`${this.name}Mesh`,h.color.set(a.color[0],a.color[1],a.color[2]),h.map=l,h.update({align:a.align,font:o,fontSize:d,text:a.text,letterSpacing:a.spacing}),this.mesh=h,this.item.add(this.mesh),s.default.transform(this.item,this.mesh,t.transform,i),t.content.timeline.forEach((t=>{"text"===t.name?s.default.animate(this,"text",i,t):"color"===t.name&&s.default.animate(this,"color",i,t)}))}update(t,e){const i=this.mesh;i.material.uniforms.opacity.value=i.material.opacity,super.update(t,e)}get color(){return this.mesh.color}get text(){return this.mesh.text}set color(t){this.mesh.color=t}set text(t){this.mesh.text=t}}},(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>o});var s=i(15),n=i(39),a=i(5),r=i(40);class o extends n.default{constructor(t,e,i){super(t,e,i),this.fileID=(0,a.fileName)(t.content.source);const o=t.content.width,l=t.content.height,d=e.textures[this.fileID];this.file=d.image,t.content.audioEnabled||(this.file.setAttribute("muted","true"),this.file.muted=!1,this.file.volume=0);const h=new s.PlaneBufferGeometry(o,l,1,1);(0,r.anchorGeometryTL)(h);const u=new s.MeshBasicMaterial({map:d,transparent:!0,side:s.DoubleSide});this.mesh=new s.Mesh(h,u),this.mesh.name=`${t.name}`,this.item.add(this.mesh),n.default.transform(this.item,this.mesh,t.transform,i)}dispose(){this.file.pause()}update(t,e){this.file.paused&&(void 0!==t&&(this.file.currentTime=t),this.file.play()),this.mesh.material.map.needsUpdate=!0}}},(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>c});var s=i(15),n=i(13),a=i(0),r=i(3),o=i(41),l=i(42),d=i(43),h=i(44),u=i(40);class c extends n.default{constructor(t,e,i){super(e,i),this.scene=new s.Scene,this.camera=new s.PerspectiveCamera(60,1920/1080,1,2e3),this.clock=new s.Clock,this.autoFOV=!1,this.effects=new Map,this.renderer=t,this.resize(window.innerWidth,window.innerHeight)}dispose(){(0,u.dispose)(this.scene),super.dispose()}play(){super.play(),this.clock.start()}pause(){this.clock.stop(),super.pause()}buildCamera(t){this.camera.name=t.name,this.camera.fov=t.content.fov,this.camera.updateProjectionMatrix();const e=window.devicePixelRatio,i=t.transform,n=i.position.length>2?i.position:[i.position[0],i.position[1],0],o=i.rotation.length>2?i.rotation:[i.rotation[0],i.rotation[1],0];if(this.camera.position.set(n[0]*e,-n[1]*e,-n[2]*e),this.camera.rotation.set(s.MathUtils.degToRad(o[0]),-s.MathUtils.degToRad(o[1]),-s.MathUtils.degToRad(o[2])),void 0===i.timeline)return;const l=i.timeline.length;for(let t=0;t<l;++t){const n=i.timeline[t],o=n.keys.length,l=o-1;for(let t=0;t<o;++t){const i=n.keys[t],{target:o}=i,{duration:d}=i,{x0:h}=i,{y0:u}=i,{x1:c}=i,{y1:f}=i;let p;switch(n.name){case"positionX":p=new r.default(this.camera.position,{x:o*e,duration:d,delay:i.start,ease:[h,u,c,f],type:i.type,start:{x:i.value*e}});break;case"positionY":p=new r.default(this.camera.position,{y:-o*e,duration:d,delay:i.start,ease:[h,u,c,f],type:i.type,start:{y:-i.value*e}});break;case"positionZ":p=new r.default(this.camera.position,{z:-o*e,duration:d,delay:i.start,ease:[h,u,c,f],type:i.type,start:{z:-i.value*e}});break;case"rotationX":p=new r.default(this.camera.rotation,{x:s.MathUtils.degToRad(o),duration:d,delay:i.start,ease:[h,u,c,f],type:i.type,start:{x:s.MathUtils.degToRad(i.value)}});break;case"rotationY":p=new r.default(this.camera.rotation,{y:s.MathUtils.degToRad(-o),duration:d,delay:i.start,ease:[h,u,c,f],type:i.type,start:{y:s.MathUtils.degToRad(-i.value)}});break;case"rotation":case"rotationZ":p=new r.default(this.camera.rotation,{z:s.MathUtils.degToRad(-o),duration:d,delay:i.start,ease:[h,u,c,f],type:i.type,start:{z:s.MathUtils.degToRad(-i.value)}})}if(void 0!==p){if(0===t&&p.startTime>0){const t=new r.default(p.object,{type:a.default.HOLD,duration:p.startTime});t.props=p.props,t.startValues=p.startValues,t.endValues=p.endValues,this.timeline.pushKeyframe(t)}else if(t===l&&p.endTime<this.timeline.duration){const t=new r.default(p.object,{type:a.default.HOLD,delay:p.endTime,duration:this.timeline.duration-p.endTime});t.props=p.props,t.startValues=p.endValues,t.endValues=p.endValues,this.timeline.pushKeyframe(t)}this.timeline.pushKeyframe(p)}}}}buildLayerImage(t,e,i){const s=new o.default(e,i,this.timeline);return this.scene.add(s.item),s}buildLayerShape(t,e,i){const s=new l.default(e,i,this.timeline);return this.scene.add(s.item),s}buildLayerText(t,e,i){const s=new d.default(e,i,this.timeline);return this.scene.add(s.item),s}buildLayerVideo(t,e,i){const s=new h.default(e,i,this.timeline);return this.scene.add(s.item),s}buildPost(t){}update(t,e){if(super.update(t,e),this.autoFOV){const t=window.innerWidth,e=t/window.innerHeight,i=this.camera.position.z,s=2*Math.atan(t/e/(2*i))*(180/Math.PI);this.camera.fov=s,this.camera.updateProjectionMatrix()}}updateLayers(t,e){const i=this.layers.length;for(let s=0;s<i;++s){const i=this.layers[s],a=i.showable(t);a?i instanceof n.default?(i.showing||i.play(),i.update(t,e)):i.update(t,e):i.showing&&i instanceof n.default&&i.timeline.playing&&i.timeline.seconds>0&&(i.timeline.seconds=i.timeline.duration,i.timeline.speed<0&&(i.timeline.seconds=0)),i.showing=a,void 0!==i.item&&(i.item.visible=a)}}draw(){super.draw(),this.renderer.render(this.scene,this.camera)}resize(t,e){super.resize(t,e),this.camera.aspect=t/e,this.camera.updateProjectionMatrix(),this.renderer.setSize(t,e)}}}],e={};function i(s){if(e[s])return e[s].exports;var n=e[s]={exports:{}};return t[s](n,n.exports,i),n.exports}i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var s in e)i.o(e,s)&&!i.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i(0),i(1),i(2),i(3),i(6),i(7),i(8),i(9),i(10),i(11),i(12),i(13),i(14),i(24),i(32),i(35),i(38),i(39),i(41),i(42),i(43),i(44);i(45)})();
//# sourceMappingURL=fido-three.js.map